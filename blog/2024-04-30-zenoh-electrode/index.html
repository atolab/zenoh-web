<!doctype html><html lang=en><head><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.png><meta name=msapplication-TileImage content="/safari-pinned-tab.png"><meta name=msapplication-TileColor content="#7da7d8"><meta name=theme-color content="#7da7d8"><meta charset=utf-8><meta name=description content="Eclipse Zenoh, unify data in motion, data at rest and computations."><meta name=keywords content="pub/sub,query,geo distributed storage,Rust,protocol,DDS,MQTT,Edge,IoT,MEC"><meta name=author content="The Zenoh Team"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=../../css/bootstrap-reboot.css><link rel=stylesheet href=../../css/bootstrap.css><link rel=stylesheet href=../../css/font-awesome.min.css><link rel=stylesheet href=../../css/ato.css><link rel=stylesheet href=../../css/syntax.css><link rel=alternate type=application/rss+xml href=../../blog/index.xml><title>Zenoh 0.11.0 "Electrode" release is out! · Zenoh - pub/sub, geo distributed storage, query</title></head><body><header class="navbar-expand navbar-dark d-flex flex-column flex-md-row align-items-md-center ato-navbar"><div class="d-flex flex-row justify-content-between pl-2 pr-2"><a class=navbar-brand href=../../><img src=../../img/zenoh-dragon-bg-150x163.png class=align-middle alt></a>
<button class="btn btn-link d-md-none p-0" type=button data-toggle=collapse data-target=#ato-nav aria-controls=ato-nav aria-expanded=false aria-label="Toggle navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></div><div class="ato-links collapse pl-4 pl-md-0" id=ato-nav><ul class="navbar-nav flex-column flex-md-row"><li class=nav-item><a class=nav-link href=../../>Home</a></li><li class=nav-item><a class=nav-link href=../../docs/getting-started/first-app/>Documentation</a></li><li class=nav-item><a class=nav-link href=../../usecases/>Use Cases</a></li><li class=nav-item><a class=nav-link href=../../community/>Community</a></li><li class=nav-item><a class=nav-link href=../../adopters/>Adopters</a></li><li class=nav-item><a class=nav-link href=../../media/>Media</a></li><li class=nav-item><a class="nav-link active" href=../../blog/2025-04-14-zenoh-gozuryu/>Blog</a></li></ul></div><ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex"><li class=nav-item><a class="nav-link p-2" href=https://github.com/eclipse-zenoh/zenoh target=_blank rel=noopener aria-label=GitHub><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64.0.0 114.61.0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34.0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49.0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75.0.0 21.49-6.88 70.4 26.24a242.65 242.65.0 01128.18.0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69.0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41.0 34.22-.31 61.83-.31 70.23.0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37.0 256 0z" fill="currentcolor" fill-rule="evenodd"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://twitter.com/zettascaletech target=_blank rel=noopener aria-label=Twitter><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 416.32" focusable="false"><title>Twitter</title><path d="M160.83 416.32c193.2.0 298.92-160.22 298.92-298.92.0-4.51.0-9-.2-13.52A214 214 0 00512 49.38a212.93 212.93.0 01-60.44 16.6 105.7 105.7.0 0046.3-58.19 209 209 0 01-66.79 25.37 105.09 105.09.0 00-181.73 71.91 116.12 116.12.0 002.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48.0 0068 159.6a106.27 106.27.0 01-47.53-13.11v1.43a105.28 105.28.0 0084.21 103.06 105.67 105.67.0 01-47.33 1.84 105.06 105.06.0 0098.14 72.94A210.72 210.72.0 0125 370.84a202.17 202.17.0 01-25-1.43 298.85 298.85.0 00160.83 46.92" fill="currentcolor"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://discord.gg/2GJ958VuHs target=_blank rel=noopener aria-label=Discord><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Discord</title><path fill="currentcolor" d="M13.545 2.907a13.227 13.227.0 00-3.257-1.011.05.05.0 00-.052.025c-.141.25-.297.577-.406.833a12.19 12.19.0 00-3.658.0 8.258 8.258.0 00-.412-.833.051.051.0 00-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041.0 00-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276.0 003.995 2.02.05.05.0 00.056-.019c.308-.42.582-.863.818-1.329a.05.05.0 00-.01-.059.051.051.0 00-.018-.011 8.875 8.875.0 01-1.248-.595.05.05.0 01-.02-.066.051.051.0 01.015-.019c.084-.063.168-.129.248-.195a.05.05.0 01.051-.007c2.619 1.196 5.454 1.196 8.041.0a.052.052.0 01.053.007c.08.066.164.132.248.195a.051.051.0 01-.004.085 8.254 8.254.0 01-1.249.594.05.05.0 00-.03.03.052.052.0 00.003.041c.24.465.515.909.817 1.329a.05.05.0 00.056.019 13.235 13.235.0 004.001-2.02.049.049.0 00.021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034.0 00-.02-.019zm-8.198 7.307c-.789.0-1.438-.724-1.438-1.612.0-.889.637-1.613 1.438-1.613.807.0 1.45.73 1.438 1.613.0.888-.637 1.612-1.438 1.612zm5.316.0c-.788.0-1.438-.724-1.438-1.612.0-.889.637-1.613 1.438-1.613.807.0 1.451.73 1.438 1.613.0.888-.631 1.612-1.438 1.612z"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://www.youtube.com/channel/UCslbiyiqgOAPMjCrPWIfQ5Q target=_blank rel=noopener aria-label=Youtube><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Youtube</title><path fill="currentcolor" d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01.0 011.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007.0 01-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309.0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007.0 01-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82.082 9.716A31.4 31.4.0 010 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007.0 011.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788.0 017.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"/></svg></a></li></ul><script async src="https://www.googletagmanager.com/gtag/js?id=G-PBD6MS51QL"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PBD6MS51QL")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":""},"articleSection":"blog","name":"Zenoh 0.11.0 \u0022Electrode\u0022 release is out!","headline":"Zenoh 0.11.0 \u0022Electrode\u0022 release is out!","datePublished":"2024-05-13 00:00:00 \u002b0000 UTC","dateModified":"2024-05-13 00:00:00 \u002b0000 UTC","url":"\/blog\/2024-04-30-zenoh-electrode\/","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"131313","wordCount":"3690","keywords":[],"description":"13th May 2024"}</script></header><div class="container-fluid ato-blog"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 ato-sidebar"><div class="ato-docs-toggle d-md-none p-0 d-flex ml-3 collapsed align-item-center"><h1 class=ato-title>Zenoh 0.11.0 "Electrode" release is out!</h1><button class="btn btn-link" type=button data-toggle=collapse data-target=#ato-docs-nav aria-controls=ato-docs-nav aria-expanded=false aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></div><nav class="ato-links collapse" id=ato-docs-nav><div class="ato-toc-item active"><p class=ato-toc-link>Blog Posts</p><ul class="nav ato-sidenav"><li><a href=../../blog/2025-04-14-zenoh-gozuryu/>Zenoh Gozuryū is Here!</a></li><li><a href=../../blog/2025-01-08-introducing-raspberry-pi-pico-support-in-zenoh-pico/>Introducing Raspberry Pi Pico Support in Zenoh-Pico</a></li><li><a href=../../blog/2024-12-12-zenoh-firesong-1.1.0/>Zenoh 1.1.0: Firesong Keeps Rocking 🎸</a></li><li><a href=../../blog/2024-10-21-zenoh-firesong/>Zenoh 1.0.0 "Firesong" is ready to rock!</a></li><li><a href=../../blog/2024-04-30-zenoh-electrode/>Zenoh 0.11.0 "Electrode" release is out!</a></li><li><a href=../../blog/2024-04-17-datadog-zenoh-router-integration/>Streamlining Zenoh router Monitoring with Datadog Integration</a></li><li><a href=../../blog/2024-01-31-zenoh-flow-getting-started/>Zenoh-Flow 0.6.0-rc: Getting Started</a></li><li><a href=../../blog/2023-10-03-zenoh-dragonite/>Zenoh Dragonite Took Off!</a></li><li><a href=../../blog/2023-07-17-s3-backend/>Zenoh Storage Gets a Boost: Empowering Storage with S3 Integration</a></li><li><a href=../../blog/2023-06-05-charmander2/>Zenoh Charmander Grows Stronger</a></li><li><a href=../../blog/2023-04-04-letsencrypt/>Securing Zenoh with LetsEncrypt: A Comprehensive Guide</a></li><li><a href=../../blog/2023-03-21-zenoh-vs-mqtt-kafka-dds/>Comparing the Performance of Zenoh, MQTT, Kafka, and DDS</a></li><li><a href=../../blog/2023-02-10-zenoh-flow/>Data Flow programming with Zenoh-Flow</a></li><li><a href=../../blog/2023-01-17-zenoh-wireshark/>The Blue Dragon meets the Wire’s Shark</a></li><li><a href=../../blog/2023-01-10-zenoh-charmander/>Zenoh Charmander is coming to town</a></li><li><a href=../../blog/2022-11-29-zenoh-alignment/>Keeping storages aligned in Zenoh</a></li><li><a href=../../blog/2022-09-30-zenoh-bahamut/>Zenoh Bahamut takes flight!</a></li><li><a href=../../blog/2022-08-12-zenoh-serial/>There is Land Besides IP: How to Cross It with Zenoh</a></li><li><a href=../../blog/2022-06-09-zenoh-pico-above-and-beyond/>Zenoh-Pico: Above and Beyond</a></li><li><a href=../../blog/2022-04-14-rust-async-eval/>A Performance Evaluation on Rust Asynchronous Frameworks</a></li><li><a href=../../blog/2022-03-30-zenoh-mobility/>Mobility, Latency and Energy saving</a></li><li><a href=../../blog/2022-02-08-dragonbot/>DragonBotOne Egg Hatching with Zenoh and Zenoh-Pico</a></li><li><a href=../../blog/2021-11-09-ros2-zenoh-pico/>ROS 2 and microcontrollers integration via Zenoh-pico</a></li><li><a href=../../blog/2021-10-04-zenoh-pico-guide/>Zenoh goes embedded with zenoh-pico</a></li><li><a href=../../blog/2021-09-28-iac-experiences-from-the-trenches/>Indy Autonomous Challenge (IAC): Experiences from the Trenches</a></li><li><a href=../../blog/2021-07-13-zenoh-performance-async/>Zenoh performance: a stroll in Rust async wonderland</a></li><li><a href=../../blog/2021-07-05-zenoh-overhead/>Zenoh overhead: a story from our community</a></li><li><a href=../../blog/2021-06-14-zenoh-reliability/>Zenoh Reliability, Scalability and Congestion Control</a></li><li><a href=../../blog/2021-04-28-ros2-integration/>Integrating ROS2 with Eclipse zenoh</a></li><li><a href=../../blog/2021-03-23-discovery/>Minimizing Discovery Overhead in ROS2</a></li><li><a href=../../blog/2020-10-08-aithusa/>Zenoh Aithusa Hatched Out!</a></li><li><a href=../../blog/2020-06-29-zenoh-tidings/>Zenoh Tidings</a></li><li><a href=../../blog/2020-01-01-zenohtude/>A Year Full of Zenoh</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 ato-toc"><div class=section-nav><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 ato-content ato-docs"><h1 class=ato-title>Zenoh 0.11.0 "Electrode" release is out!</h1><p class=ato-date>13th May 2024</p><p>During the summer of 2023, we rolled out Zenoh v0.7.0 &lsquo;Charmander,&rsquo; which brought significant enhancements to the Zenoh ecosystem. This was followed by the release of v0.10.0-rc &lsquo;Dragonite&rsquo; in autumn, and a winter update with v0.10.1-rc.
This spring, we are pleased to announce Zenoh v0.11.0 “Electrode”. This release introduces several new features, some key improvements. Next will come the much-anticipated version 1.0.0, planned for June 2024🎉!</p><p>But let’s see what comes with Zenoh Electrode.</p><figure class="responsive-figure figure-inline"><img src=../../img/20240430-blog-zenoh-electrode/comic-april-2024.png alt="Zenoh comic April 2024" width=100% height=auto></figure><style>.responsive-figure{display:flex;justify-content:center}.responsive-figure img{max-width:720px;height:auto}</style><hr><h1 id=android-kotlin-and-java>Android, Kotlin and Java</h1><figure class="responsive-figure figure-inline"><img src=../../img/20240430-blog-zenoh-electrode/zenoh-kotlin-header.png alt="Zenoh kotlin header" width=100% height=auto></figure><p>Back in September we announced that after C, C++ and Python, you could now use Zenoh with Kotlin (checkout the <a href=https://github.com/eclipse-zenoh/zenoh-kotlin>repository</a>).</p><p>However there were some important aspects to tackle.</p><p>To begin with, the 0.10.0-rc Zenoh-Kotlin release target was limited to JVM. But you may have asked yourself “what about Android?”&mldr; Indeed, on this release we got your back covered ;-). We have refactored the build scripts in order to integrate the <a href=https://kotlinlang.org/docs/multiplatform-plugin-releases.html>Kotlin Multiplatform Plugin</a>, which allows us to have a common codebase to be reused across multiple targets, with some specificity for each. Therefore, we now can build Zenoh-Kotlin for both Android and JVM targets.</p><p>Additionally, we now provide packaging, which is key to ease the importing of Zenoh on Kotlin projects. Find them out here on <a href="https://github.com/orgs/eclipse-zenoh/packages?repo_name=zenoh-kotlin">Github Packages</a>, for both JVM and Android targets!</p><p>The third important item is that Java joined the party! Indeed, we have forked the Kotlin bindings, making the necessary adjustments to make the bindings fully Java compatible. Checkout the examples! <a href=https://github.com/eclipse-zenoh/zenoh-java/tree/main/examples>https://github.com/eclipse-zenoh/zenoh-java/tree/main/examples</a></p><p>Because Zenoh-Kotlin (and now Zenoh-Java) relies on the Zenoh-JNI native library, we need to take into consideration the platforms on top of which the library is going to run.</p><p>For Android, we support the following architectures:</p><ul><li>x86</li><li>x86_64</li><li>arm</li><li>arm64</li></ul><p>While for JVM we support:</p><ul><li>x86_64-unknown-linux-gnu</li><li>aarch64-unknown-linux-gnu</li><li>x86_64-apple-darwin</li><li>aarch64-apple-darwin</li><li>x86_64-pc-windows-msvc</li></ul><p>Take a look at the <a href=https://github.com/eclipse-zenoh/zenoh-demos/tree/main/zenoh-android/ZenohApp>Zenoh demo app</a> we have published to see how to use the package:</p><style>.responsive-video{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;background:#000}.responsive-video video{position:absolute;top:0;left:0;width:100%;height:100%}</style><div class="responsive-video figure-inline"><video controls>
<source src=../../img/20240430-blog-zenoh-electrode/android_demo.webm type=video/webm><a href=../../img/20240430-blog-zenoh-electrode/android_demo.webm>android_demo.webm</a></video></div><p><em>In this example we communicate from an Android phone using the Zenoh Kotlin bindings to a computer using the Zenoh Rust implementation, reproducing a publisher/subscriber example.</em></p><p>You can also see a live demo we did during the Zenoh User Meeting of an android application using the kotlin bindings to control a turtlebot: <a href="https://youtu.be/oaRe2bkIyIo?feature=shared&t=15268">https://youtu.be/oaRe2bkIyIo?feature=shared&t=15268</a></p><h1 id=ros-2-plug-in>ROS 2 Plug-in</h1><p><a href=https://github.com/eclipse-zenoh/zenoh-plugin-ros2dds>https://github.com/eclipse-zenoh/zenoh-plugin-ros2dds</a></p><p>We have had a Zenoh Bridge/Plug-in for DDS for some time. This plug-in has been heavily used by numerous robotic applications in overcoming <a href=https://zenoh.io/blog/2021-03-23-discovery/>wireless connectivity</a>, <a href=https://zenoh.io/blog/2021-09-28-iac-experiences-from-the-trenches/>bandwidth</a>, and <a href=https://zenoh.io/blog/2021-11-09-ros2-zenoh-pico/>integration</a> challenges. Yet, this plugin was for generic DDS applications and was not leveraging some of the semantics that are specific to ROS2. This is why we decided to do a new plugin/bridge optimized for ROS2, which provides the following features:</p><ul><li>Better integration of the ROS 2 graph, allowing visibility of all ROS topics, services, and actions across multiple bridges.</li><li>Improved compatibility with ROS 2 tooling such as <code>ros2</code>, <code>rviz2</code> and more.</li><li>Configuration of a ROS 2 namespace on the bridge, eliminating the need to configure it individually for each ROS 2 node.</li><li>Simplified integration with Zenoh native applications, with services and actions being mapped to Zenoh Queryables.</li><li>Streamlined exchange of discovery information between bridges, resulting in more compact data exchanges.</li><li>Even better performance than the DDS plugin/bridge!</li></ul><h1 id=influxdb-v2x-plug-in>InfluxDB v2.x Plug-in</h1><p><a href=https://github.com/eclipse-zenoh/zenoh-backend-influxdb>https://github.com/eclipse-zenoh/zenoh-backend-influxdb</a></p><p>The release extends the support to InfluxDB v2.x. Our plugin maintains support v1.x for our users that are still on the old version of the database. For InfluxDB 2.x backend we have implemented the following features:</p><ul><li>Support for GET, PUT and DELETE queries on measurements</li><li>Support for creating and deleting buckets</li><li>Support for access tokens as credentials</li><li>Porting compatibility between InfluxDB 1.x and 2.x storage backends</li></ul><h1 id=tokio-porting>Tokio Porting</h1><p>Back to April 2022, we conducted a<a href=https://zenoh.io/blog/2022-04-14-rust-async-eval/> performance evaluation on Rust asynchronous runtimes</a> and chose<a href=https://async.rs/> async-std</a> as the Rust async framework for Zenoh. Fast forward two years,<a href=https://tokio.rs/> Tokio</a> has grown to become the most extensive asynchronous framework in Rust. As more users adopt Tokio, the ecosystem has expanded with valuable tools and innovative features. We began another thorough performance study a few months ago and the results were enough to prompt us to switch to Tokio. The change of asynchronous runtime is internal and does not affect the user API. Moreover, it offers us cool features like,</p><p><strong>Controllability.</strong> You can adjust the runtime settings through the environmental variable. For instance, controlling the number of worker threads and the maximal blocking threads for the specific zenoh runtimes.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#366>export</span> <span style=color:#033>ZENOH_RUNTIME</span><span style=color:#555>=</span><span style=color:#c30>&#39;(
</span></span></span><span style=display:flex><span><span style=color:#c30> app: (worker_threads: 2),
</span></span></span><span style=display:flex><span><span style=color:#c30> tx: (max_blocking_threads: 1)
</span></span></span><span style=display:flex><span><span style=color:#c30> )&#39;</span>
</span></span></code></pre></div><p>The configuration syntax follows<a href=https://github.com/ron-rs/ron> RON</a> and the available parameters are listed<a href=https://docs.rs/zenoh-runtime/latest/zenoh_runtime/struct.RuntimeParam.html> here</a>. We plan to enhance our runtime and add more parameters in the future!</p><p><strong>Debugging</strong></p><p>Developers can leverage the tokio-console to monitor the detailed status of each async task. Taking the z_sub as the example,</p><figure class=figure-inline><img src=../../img/20240430-blog-zenoh-electrode/tokio.png alt=Tokio height=auto></figure><p>To learn how to enable it, please refer to this <a href="https://github.com/tokio-rs/console?tab=readme-ov-file#using-it">tutorial</a>.</p><h1 id=attachments>Attachments</h1><p>Sometimes, you just want to attach some meta-information to your payload, and you really don’t want to add a layer of serialization in order to do so. Well now, you can use the new <code>attachment</code> API! Available in the Rust, C, C++, Kotlin and Java APIs, coming to zenoh-pico and other bindings soon; this API lets you attach a list of key-value pairs to your publications, queries and replies.</p><p>For instance, this is how you can use attachments with a publisher using Zenoh’s Rust API:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#09f;font-style:italic>// Declaring a publisher
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>publisher<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>session.declare_publisher(<span style=color:#555>&amp;</span>key_expr).res().<span style=color:#069;font-weight:700>await</span><span style=color:#555>?</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#09f;font-style:italic>// Create an attachment by specifying key value pairs to an attachment builder
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>attachmentBuilder<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>AttachmentBuilder::new();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>attachmentBuilder.insert(<span style=color:#c30>&#34;key1&#34;</span>,<span style=color:#bbb> </span><span style=color:#c30>&#34;value1&#34;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>attachmentBuilder.insert(<span style=color:#c30>&#34;key2&#34;</span>,<span style=color:#bbb> </span><span style=color:#c30>&#34;value2&#34;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#09f;font-style:italic>// Build the attachment
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>attachment<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>attachmentBuilder.build();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#09f;font-style:italic>// Perform a put using the with_attachment function.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>publisher.put(<span style=color:#c30>&#34;value&#34;</span>).with_attachment(attachment).res();<span style=color:#bbb>
</span></span></span></code></pre></div><p>The other bindings follow a similar approach, for instance on Kotlin we’d do:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#09f;font-style:italic>// …
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>publisher.put(payload).withAttachment(
</span></span><span style=display:flex><span>    Attachment.Builder()
</span></span><span style=display:flex><span>        .add(<span style=color:#c30>&#34;key1&#34;</span>, <span style=color:#c30>&#34;value1&#34;</span>)
</span></span><span style=display:flex><span>        .add(<span style=color:#c30>&#34;key2&#34;</span>, <span style=color:#c30>&#34;value2&#34;</span>)
</span></span><span style=display:flex><span>        .res()
</span></span><span style=display:flex><span>).res()
</span></span></code></pre></div><h1 id=typescript-bindings>Typescript Bindings</h1><figure class="responsive-figure figure-inline"><img src=../../img/20240430-blog-zenoh-electrode/zenoh-ts-header.png alt="Zenoh TypeScript header" width=320px height=auto></figure><p>Many of you have asked for the ability to run Zenoh in your browser… Well, that’s coming up!</p><p>We have a Typescript API providing the core set of Zenoh features working in the browser, with Node.js support becoming a priority once enough features are stable in the browser.</p><p>For now we can offer only a taste of the API that will be presented to developers, but keep in mind this is still in the experimental stage and changes are likely to happen as we continue to develop the bindings.</p><p>In its current state it is structured as a Callback API.</p><p>Here is a brief example of how Zenoh currently works in a Typescript program:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#069;font-weight:700>import</span> <span style=color:#555>*</span> <span style=color:#069;font-weight:700>as</span> zenoh <span style=color:#069;font-weight:700>from</span> <span style=color:#c30>&#34;zenoh&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>function</span> sleep(ms: <span style=color:#078;font-weight:700>number</span>) {
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>return</span> <span style=color:#069;font-weight:700>new</span> Promise(resolve <span style=color:#555>=&gt;</span> setTimeout(resolve, ms));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>async</span> <span style=color:#069;font-weight:700>function</span> main() {
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>const</span> session <span style=color:#555>=</span> <span style=color:#069;font-weight:700>await</span> zenoh.Session.open(zenoh.Config.<span style=color:#069;font-weight:700>new</span>(<span style=color:#c30>&#34;ws/127.0.0.1:10000&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// Subscriber Example
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#069;font-weight:700>const</span> key_expr: <span style=color:#078;font-weight:700>zenoh.KeyExpr</span> <span style=color:#555>=</span> <span style=color:#069;font-weight:700>await</span> session.declare_ke(<span style=color:#c30>&#34;demo/send/to/ts&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>var</span> subscriber <span style=color:#555>=</span> <span style=color:#069;font-weight:700>await</span> session.declare_subscriber_handler_async(key_expr,
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>async</span> (sample: <span style=color:#078;font-weight:700>zenoh.Sample</span>) <span style=color:#555>=&gt;</span> {
</span></span><span style=display:flex><span>            <span style=color:#069;font-weight:700>const</span> decoder <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> TextDecoder();
</span></span><span style=display:flex><span>            <span style=color:#069;font-weight:700>let</span> text <span style=color:#555>=</span> decoder.decode(sample.value.payload)
</span></span><span style=display:flex><span>            console.debug(<span style=color:#c30>&#34;sample: &#34;</span> <span style=color:#555>+</span> sample.keyexpr <span style=color:#555>+</span> <span style=color:#c30>&#34;&#39;: &#39;&#34;</span> <span style=color:#555>+</span> text);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// Publisher Example
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#069;font-weight:700>const</span> key_expr2 <span style=color:#555>=</span> <span style=color:#069;font-weight:700>await</span> session.declare_ke(<span style=color:#c30>&#34;demo/send/from/ts&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>const</span> publisher : <span style=color:#078;font-weight:700>zenoh.Publisher</span> <span style=color:#555>=</span> <span style=color:#069;font-weight:700>await</span> session.declare_publisher(key_expr2);
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>let</span> enc: <span style=color:#078;font-weight:700>TextEncoder</span> <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> TextEncoder(); <span style=color:#09f;font-style:italic>// always utf-8
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#069;font-weight:700>let</span> i : <span style=color:#078;font-weight:700>number</span> <span style=color:#555>=</span> <span style=color:#f60>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>while</span> ( i <span style=color:#555>&lt;</span> <span style=color:#f60>100</span>) {
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>let</span> currentTime <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> <span style=color:#366>Date</span>().toTimeString();
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>let</span> uint8arr: <span style=color:#078;font-weight:700>Uint8Array</span> <span style=color:#555>=</span> enc.encode(My Message : <span style=color:#078;font-weight:700>$</span>{currentTime} );
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>let</span> value: <span style=color:#078;font-weight:700>zenoh.Value</span> <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> zenoh.Value(uint8arr);
</span></span><span style=display:flex><span>        (publisher).put(value);
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>await</span> sleep(<span style=color:#f60>1000</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// Loop to spin and keep Subscriber alive
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#069;font-weight:700>var</span> count <span style=color:#555>=</span> <span style=color:#f60>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>while</span> (<span style=color:#069;font-weight:700>true</span>) {
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>var</span> seconds <span style=color:#555>=</span> <span style=color:#f60>10</span>;
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>await</span> sleep(<span style=color:#f60>1000</span> <span style=color:#555>*</span> seconds);
</span></span><span style=display:flex><span>        console.log(<span style=color:#c30>&#34;Main Loop ? &#34;</span>, count)
</span></span><span style=display:flex><span>        count <span style=color:#555>=</span> count <span style=color:#555>+</span> <span style=color:#f60>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=access-control>Access Control</h1><p>As a part of the 0.11.0 release, Zenoh has added the option of access control via network interfaces. It works by restricting actions (eg: put) on key-expressions (eg: test/demo) based on network interface values (eg: lo). The access control is managed by filtering messages (where message types are denoted as actions in the access_control config): <code>put</code>, <code>get</code>, <code>declare_subscriber</code> and <code>declare_queryable</code>. The filter can be applied on both incoming (ingress) and outgoing messages (egress).</p><p>Enabling access control for the network is a straightforward process: the rules for the access control can be directly provided in the configuration file.</p><p><strong>Access Control Config</strong></p><p>A typical access control configuration in the config file looks as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#a00;background-color:#faa>access_control:</span> {
</span></span><span style=display:flex><span>  <span style=color:#309;font-weight:700>&#34;enabled&#34;</span>: <span style=color:#069;font-weight:700>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#309;font-weight:700>&#34;default_permission&#34;</span>: <span style=color:#c30>&#34;deny&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#309;font-weight:700>&#34;rules&#34;</span>:
</span></span><span style=display:flex><span>  [
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>  	  <span style=color:#309;font-weight:700>&#34;actions&#34;</span>: [<span style=color:#c30>&#34;put&#34;</span>, <span style=color:#c30>&#34;declare_subscriber&#34;</span>],
</span></span><span style=display:flex><span>  	  <span style=color:#309;font-weight:700>&#34;flows&#34;</span>:[<span style=color:#c30>&#34;egress&#34;</span>, <span style=color:#c30>&#34;ingress&#34;</span>],
</span></span><span style=display:flex><span>  	  <span style=color:#309;font-weight:700>&#34;permission&#34;</span>: <span style=color:#c30>&#34;allow&#34;</span>,
</span></span><span style=display:flex><span>  	  <span style=color:#309;font-weight:700>&#34;key_exprs&#34;</span>: [<span style=color:#c30>&#34;test/demo&#34;</span>],
</span></span><span style=display:flex><span>  	  <span style=color:#309;font-weight:700>&#34;interfaces&#34;</span>: [<span style=color:#c30>&#34;lo0&#34;</span>]
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>   ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The configuration has three primary fields:</p><ul><li><strong>enabled</strong>: <em>true</em> or <em>false</em></li><li><strong>default_permission</strong>: <em>allow</em> or <em>deny</em></li><li><strong>rules</strong>: the list of rules for specifying explicit permissions</li></ul><p>The <em>enabled</em> field sets the access control status. If it is set to false, no filtering of messages takes place and everything that follows in the access control config is ignored.</p><p>The <em>default_permission</em> field provides the implicit permission for filtering messages, i.e., this rule applies if no other matching rule is found for an action. It therefore always has lower priority than explicit rules provided in the <em>rules</em> field.</p><p>The <em>rules</em> field itself has sub-fields: <em>actions</em>, <em>flows</em>, <em>permission</em>, <em>key_exprs</em> and <em>interfaces</em>. The values provided in these fields set the explicit rules for the access control:</p><ul><li><strong>actions</strong>: supports four different types of messages - <em>put</em>, <em>get</em>, <em>declare_subscriber</em>, <em>declare_queryable.</em></li><li><strong>flows</strong>: supports <em>egress</em> and <em>ingress</em>.</li><li><strong>permission</strong>: supports <em>allow</em> or <em>deny.</em></li><li><strong>key_exprs</strong>: supports values of any key type or key-expression (set of keys) type, eg: “<em>temp/room_1</em>”, “<em>temp/**</em>”&mldr;etc. (see <a href=https://github.com/eclipse-zenoh/roadmap/blob/main/rfcs/ALL/Key%20Expressions.md>Key_Expressions</a>)</li><li><strong>interfaces</strong>: supports all possible values for network interfaces, eg: “<em>lo</em>”, “<em>lo0</em>”…etc.</li></ul><p>For example, in the above config, the <em>default_permission</em> is set to <em>deny</em>, and then a rule is added to explicitly allow certain behavior. Here, a node connecting via the “lo0” interface will be allowed to <code>put</code> and <code>declare_subscriber</code> on the <code>test/demo</code> key expression for both incoming and outgoing messages. However, if there is a node connected via another interface or trying to perform another action (eg: <code>get</code>), it will be denied. This provides a granular access control over permissions, ensuring that only authorized devices or networks can perform allowed behavior. More details on this can be found in our <a href=https://github.com/eclipse-zenoh/roadmap/blob/main/rfcs/ALL/Access%20Control%20Rules.md>Access Control RFC</a>.</p><h1 id=downsampling>Downsampling</h1><p>Downsampling is a feature in Zenoh that allows users to control the flow of data messages by reducing their frequency based on specified rules. This feature is particularly useful in scenarios where high-frequency data transmission is not necessary or desired, such as conserving network bandwidth or reducing processing overhead.</p><p>The downsampling configuration in Zenoh is defined using a structured declaration, as shown below:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#a00;background-color:#faa>downsampling:</span> [
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// A list of network interfaces messages will be processed on, the rest will be passed as is.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#a00;background-color:#faa>interfaces:</span> <span style=color:#a00;background-color:#faa>[</span> <span style=color:#309;font-weight:700>&#34;wlan0&#34;</span> <span style=color:#a00;background-color:#faa>]</span>,
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// Data flow messages will be processed on. (&#34;egress&#34; or &#34;ingress&#34;)
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#a00;background-color:#faa>flow:</span> <span style=color:#309;font-weight:700>&#34;egress&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// A list of downsampling rules: key_expression and the maximum frequency in Hertz
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#a00;background-color:#faa>rules:</span> <span style=color:#a00;background-color:#faa>[</span>
</span></span><span style=display:flex><span>      <span style=color:#a00;background-color:#faa>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a00;background-color:#faa>key_expr:</span> <span style=color:#309;font-weight:700>&#34;demo/example/zenoh-rs-pub&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a00;background-color:#faa>freq:</span> <span style=color:#a00;background-color:#faa>0.1</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>    ]<span style=color:#a00;background-color:#faa>,</span>
</span></span><span style=display:flex><span>  <span style=color:#a00;background-color:#faa>},</span>
</span></span><span style=display:flex><span><span style=color:#a00;background-color:#faa>],</span>
</span></span></code></pre></div><p>Let&rsquo;s break down each component of the downsampling configuration:</p><ul><li><strong>Interfaces</strong>: Specifies the network interfaces on which the downsampling rules will be applied. Messages received on these interfaces will undergo downsampling according to the defined rules.</li><li><strong>Flow</strong>: Indicates the direction of data flow on which the downsampling rules will be applied. In this example, &ldquo;egress&rdquo; signifies outgoing data messages.</li><li><strong>Rules</strong>: Defines a list of downsampling rules, each consisting of a <code>key_expression</code> and a <code>freq</code> (frequency) parameter.<ul><li><code>key_expression</code>: Specifies a key expression pattern to match against the data messages. Only messages with keys that match this expression will be subject to downsampling.</li><li><code>freq</code>: Sets the maximum frequency in Hertz (Hz) at which messages matching the key expression will be transmitted. Any messages exceeding this frequency will be downsampled or discarded.</li></ul></li></ul><p>In the provided example, the downsampling rule targets messages published under the key expression <code>demo/example/zenoh-rs-pub</code> for interface wlan0 and restricts their transmission frequency to 0.1 Hz. This means that data messages matching this key expression will be transmitted at a maximum rate of 0.1 Hz, effectively reducing the data flow to the specified frequency.</p><p>By configuring downsampling rules, users can effectively manage data transmission rates, optimize resource utilization, and tailor data delivery to meet specific application requirements.</p><h1 id=ability-to-bind-on-an-interface>Ability to bind on an interface</h1><p>Zenoh introduces advanced capabilities for binding network interfaces in TCP/UDP communication on Linux systems, enabling users to fine-tune network connectivity and optimize resource utilization. This feature facilitates precise control over both outgoing connections and incoming connections, enhancing network security, reliability, and performance in diverse deployment environments.</p><h4 id=outgoing-connections>Outgoing Connections</h4><p>Users can specify the interface to be connected to when establishing TCP/UDP connections, ensuring that connections are established only if the target IP address is reachable via the designated interface. This capability enhances network reliability and efficiency by directing outgoing connections through the most appropriate network path.</p><p>For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#09f;font-style:italic>// connect only if the address 192.168.0.1 is reachable via
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// the interface eth0
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#a00;background-color:#faa>connect:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a00;background-color:#faa>endpoints:</span> <span style=color:#a00;background-color:#faa>[</span>
</span></span><span style=display:flex><span>           <span style=color:#309;font-weight:700>&#34;tcp/192.168.0.1:7447#iface=eth0&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a00;background-color:#faa>]</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=incoming-connections>Incoming Connections</h4><p>Furthermore, Zenoh allows users to bind connections to specific interfaces for listening purposes, even if the interface is not available at the time of launching Zenoh. By specifying the interface to be listened to when accepting incoming TCP/UDP connections, users can ensure that Zenoh binds to the designated interface when it becomes available.</p><p>For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#09f;font-style:italic>// listen for connections only on interface eth0
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// (even if not yet available)
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#a00;background-color:#faa>listen:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a00;background-color:#faa>endpoints:</span> <span style=color:#a00;background-color:#faa>[</span>
</span></span><span style=display:flex><span>           <span style=color:#309;font-weight:700>&#34;tcp/0.0.0.0:7447#iface=eth0&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a00;background-color:#faa>]</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=transparent-network-compression>Transparent network compression</h1><p>Transparent compression is now available in Zenoh. This allows two Zenoh nodes to perform transparent hop-to-hop compression at network level when communicating. This can be pretty useful when sending large data over constrained networks like WiFi, 5G, etc.</p><p>The following configuration enables hop-to-hop compression:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#a00;background-color:#faa>transport:</span> <span style=color:#a00;background-color:#faa>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a00;background-color:#faa>unicast:</span> <span style=color:#a00;background-color:#faa>{</span>
</span></span><span style=display:flex><span>      <span style=color:#09f;font-style:italic>/// Enables compression on unicast communications.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>      <span style=color:#09f;font-style:italic>/// Compression capabilities are negotiated during session establishment.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>      <span style=color:#09f;font-style:italic>/// If both Zenoh nodes support compression, then compression is activated.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>      <span style=color:#a00;background-color:#faa>compression:</span> <span style=color:#a00;background-color:#faa>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a00;background-color:#faa>enabled:</span> <span style=color:#a00;background-color:#faa>false,</span>
</span></span><span style=display:flex><span>      }<span style=color:#a00;background-color:#faa>,</span>
</span></span><span style=display:flex><span>    <span style=color:#a00;background-color:#faa>},</span>
</span></span><span style=display:flex><span>  <span style=color:#a00;background-color:#faa>},</span>
</span></span><span style=display:flex><span><span style=color:#a00;background-color:#faa>},</span>
</span></span></code></pre></div><p>Upon session establishment, Zenoh nodes performs a handshake to verify whether transparent compression should be activated or not. If both agree, then hop-to-hop compression is transparently used as illustrated in the figure below.</p><figure class=figure-inline><img src=../../img/20240430-blog-zenoh-electrode/compression.png alt="Zenoh transparent compression" height=auto></figure><p>It’s worth highlighting that Zenoh applications don’t need to be modified to use this feature since, from their perspective, they will send and receive uncompressed data. All the compression happens under the hood, making it completely transparent.</p><h1 id=plugins-support-in-applications>Plugins support in applications</h1><p>Plugins have been available only on Zenoh routers, <em>i.e.</em>, <a href=https://github.com/eclipse-zenoh/zenoh/tree/main/zenohd>zenohd</a>. Starting from the 0.11.0 release, plugins can be loaded and started by any application written in any supported language, e.g. Rust, C, C++, Python. To enable it it’s sufficient to pass the following configuration upon zenoh session open:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#309;font-weight:700>&#34;plugins_loading&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// Enable plugins loading.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#309;font-weight:700>&#34;enabled&#34;</span>: <span style=color:#069;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>/// Directories where plugins configured by name should be looked for. Plugins configured by __path__ are not subject to lookup.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#09f;font-style:italic>/// If enabled: true and search_dirs is not specified then search_dirs falls back to the default value: &#34;.:~/.zenoh/lib:/opt/homebrew/lib:/usr/local/lib:/usr/lib&#34;
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#09f;font-style:italic>// search_dirs: [],
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>  },
</span></span><span style=display:flex><span>  <span style=color:#09f;font-style:italic>/// Plugins are only loaded if plugins_loading: { enabled: true } and present in the configuration when starting.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>  <span style=color:#09f;font-style:italic>/// Once loaded, they may react to changes in the configuration made through the zenoh instance&#39;s adminspace.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>  <span style=color:#309;font-weight:700>&#34;plugins&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#309;font-weight:700>&#34;my_plugin&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#09f;font-style:italic>// my_plugin specific configuration
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>More configuration details on plugins are available <a href=https://github.com/eclipse-zenoh/zenoh/blob/9a9832a407300763af6e30652ac33bcaab2c94e4/DEFAULT_CONFIG.json5#L387>here</a>.</p><h1 id=verbatim-chunks>Verbatim chunks</h1><p>A Zenoh key-expression is defined as a <code>/</code>-separated list of chunks, where each chunk is a non-empty UTF-8 string that can&rsquo;t contain the following characters: <code>*$?#</code>. E.g.: The key expression <code>home/kitchen/temp</code> is composed of 3 chunks: <code>home</code>, <code>kitchen</code>, and <code>temp</code>.</p><p>Wild chunks <code>*</code> and <code>**</code> then allow addressing multiple keys at once. For instance, the key expression <code>home/*/temp </code>addresses the <code>temp</code> for any value of the second chunk, such as bedroom, livingroom, etc.</p><p>This release introduces a new type of chunk: the verbatim chunk. The goal of these chunks is to allow some key spaces to be <em>hermetically sealed</em> from each other. Any chunk that starts with <code>@</code> is treated as a verbatim chunk, and can only be matched by an identical chunk.</p><p>For instance, the key expression <code>my-api/@v1/** </code>does not intersect any of the following key expressions:</p><ul><li><code>my-api/@v2/**</code></li><li><code>my-api/*/**</code></li><li><code>my-api/@$*/**</code>, and</li><li><code>my-api/**</code></li></ul><p>because the verbatim chunk <code>@v1</code> prohibits it.</p><p>In general, verbatim chunks are useful in ensuring that <code>*</code> and <code>** </code>accidentally match chunks that are not supposed to be matched. A common case is API versioning where <code>@v1</code> and <code>@v2</code> should not be mixed or at least explicitly selected. The full RFC on key expressions is available <a href=https://github.com/eclipse-zenoh/roadmap/blob/main/rfcs/ALL/Key%20Expressions.md#verbatim-chunks-behavioural-breaking-change-in-zenoh-0110>here</a>.</p><h1 id=vsock-links>Vsock links</h1><p>Zenoh now offers support for Vsock connections, facilitating seamless communication between virtual machines and their host operating systems. <a href=https://man7.org/linux/man-pages/man7/vsock.7.html>Vsock</a>, or Virtual Socket, is a communication protocol designed for efficient communication between virtual machines and their host operating systems in virtualized environments. It enables high-performance communication with low latency and overhead.</p><p>Users can specify endpoints using both numeric and string-based addressing formats, allowing for flexible configuration. Numeric addresses such as<code> "vsock/-1:1234"</code> and string constant addresses like <code>"vsock/VMADDR_CID_ANY:VMADDR_PORT_ANY"</code> and <code>"vsock/VMADDR_CID_LOCAL:2345"</code> are supported. This enhancement expands Zenoh&rsquo;s communication capabilities within virtualized environments, fostering improved integration and interoperability.</p><h1 id=connection-timeouts-and-retries>Connection timeouts and retries</h1><p>Zenoh’s configuration has been improved to fine tune how Zenoh connects to configured remote endpoints and tries to open listening endpoints.</p><p>In both <a href=https://github.com/eclipse-zenoh/zenoh/blob/ac6bbf4676949677887e96e9bb38519cab69ad28/DEFAULT_CONFIG.json5#L24>connect</a> and <a href=https://github.com/eclipse-zenoh/zenoh/blob/ac6bbf4676949677887e96e9bb38519cab69ad28/DEFAULT_CONFIG.json5#L57>listen</a> sections of the configuration, the following entries have been added:</p><ul><li><code>timeout_ms</code> defines the maximum amount of time (in milliseconds) Zenoh should spend trying (and eventually retrying) to connect to remote endpoints or to open listening endpoints before eventually failing. Special value <code>0</code> indicates no retry and special value <code>-1</code> indicates infinite time.</li><li><code>exit_on_failure</code> defines how Zenoh should behave when it fails to connect to remote endpoints or to open listening endpoints in the allocated <code>timeout_ms</code> time. <code>true</code> indicates that <code>open()</code> should return an error when the timeout elapsed. <code>false</code> indicates that <code>open()</code> should return <code>Ok</code> when the timeout elapsed and continue to try to connect to configured remote endpoints and to open configured listening endpoints in background.</li><li><code>retry</code> is a sub-section that defines the frequency of the Zenoh connection attempts and listening endpoints opening attempts.<ul><li><code>period_init_ms</code> defines the period in milliseconds between the first attempts.</li><li><code>period_increase_factor</code> defines how much the period should increase after each attempt.</li><li><code>period_max_ms</code> defines the maximum period in milliseconds between the first attempts whatever the increase factor.</li></ul></li></ul><p>For example, the following configuration:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#a00;background-color:#faa>retry</span> {
</span></span><span style=display:flex><span>    <span style=color:#a00;background-color:#faa>period_init_ms:</span> <span style=color:#a00;background-color:#faa>1000,</span>
</span></span><span style=display:flex><span>    <span style=color:#a00;background-color:#faa>period_increase_factor:</span> <span style=color:#a00;background-color:#faa>4000,</span>
</span></span><span style=display:flex><span>    <span style=color:#a00;background-color:#faa>period_increase_factor:</span> <span style=color:#a00;background-color:#faa>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>will lead to the following periods between successive attempts (in milliseconds): 1000, 2000, 4000, 4000, 4000, &mldr;</p><p>It is also possible to define different configurations for different endpoints by setting different values directly in the endpoints strings. Typically if you want your <code>peer</code> to imperatively connect to an endpoint (and fail if unable) and optionally connect to another, you can configure your <code>connect/endpoints</code> like this: <code>["tcp/192.168.0.1:7447#exit_on_failure=true", "tcp/192.168.0.2:7447#exit_on_failure=false"]</code>.</p><h1 id=improved-congestion-control>Improved congestion control</h1><p>Congestion control has been improved in this release and made both less aggressive and configurable. For the sake of understanding this change, it’s important to know that Zenoh uses an internal queue for transmission. Until now, messages published with <code>CongestionControl::Drop</code> were dropped as soon as the internal queue was full. However, this led to an aggressive dropping strategy since short bursts couldn’t be accommodated unless the size of the queue was increased, at the cost of additional memory consumption.</p><p>Now, messages are dropped not when the queue is full but when the queue has been full for at least a given amount of time. By default, messages are dropped if the queue is full for _1ms. _Congestion control timeout can be configured as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#309;font-weight:700>&#34;transport&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#309;font-weight:700>&#34;link&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#309;font-weight:700>&#34;tx&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#09f;font-style:italic>/// Each zenoh link has a transmission queue that can be configured
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>        <span style=color:#309;font-weight:700>&#34;queue&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#09f;font-style:italic>/// Congestion occurs when the queue is empty (no available batch).
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>          <span style=color:#09f;font-style:italic>/// Using CongestionControl::Block the caller is blocked until a batch is available and re-insterted into the queue.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>          <span style=color:#09f;font-style:italic>/// Using CongestionControl::Drop the message might be dropped, depending on conditions configured here.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>          <span style=color:#309;font-weight:700>&#34;congestion_control&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#09f;font-style:italic>/// The maximum time in microseconds to wait for an available batch before dropping the message if still no batch is available.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>            <span style=color:#309;font-weight:700>&#34;wait_before_drop&#34;</span>: <span style=color:#f60>1000</span>
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=mutual-tls-authentication-in-quic>Mutual TLS authentication in QUIC</h1><p>Although Zenoh supported QUIC from the very beginning, a recently added feature is the support of mutual authentication with TLS (mTLS) also for QUIC.</p><p>mTLS allows to verify the identity of the server as well as the client, this means that only a client having the right certificate can access the Zenoh infrastructure.</p><p>Supporting mTLS in QUIC allows for new use-cases where mobility and security are key.</p><p>Configuration of mTLS in QUIC is done via the same parameters currently used for <a href=https://zenoh.io/docs/manual/tls/#mutual-authentication-mtls>mTLS configuration on TCP</a>, thus facilitating the migration (or adoption) for users currently using mTLS over TCP. It is sufficient to add a new locator with QUIC to start using mTLS over QUIC!</p><p>An example configuration of QUIC with mTLS is:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#09f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>  <span style=color:#09f;font-style:italic>// your usual zenoh configuration
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>  <span style=color:#309;font-weight:700>&#34;connect&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#309;font-weight:700>&#34;endpoints&#34;</span>: [<span style=color:#c30>&#34;quic/&lt;ip address or dnsname&gt;:&lt;port&gt;&#34;</span>]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#309;font-weight:700>&#34;transport&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#309;font-weight:700>&#34;link&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#309;font-weight:700>&#34;tls&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;client_auth&#34;</span>: <span style=color:#069;font-weight:700>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;client_certificate&#34;</span>: <span style=color:#c30>&#34;/cert.pem&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;client_private_key&#34;</span>: <span style=color:#c30>&#34;/cert-key.pem&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;root_ca_certificate&#34;</span>: <span style=color:#c30>&#34;/root.pem&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#09f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>}
</span></span></code></pre></div><h1 id=new-features-for-zenoh-pico>New features for Zenoh-Pico</h1><p>In addition to addressing numerous bugs, the upcoming release of zenoh-pico 0.11 introduces several new features:</p><ul><li>Users can now easily integrate zenoh-pico as a library with Zephyr.</li><li>We added support for serial connection timeouts for the espidf freertos platform.</li><li>Zenoh-pico now runs on the Flipper Zero platform.</li><li>Finally, this update brings metadata attachment functionality for publications (query and reply coming soon).</li></ul><h1 id=bugfixes>Bugfixes</h1><ul><li>Fix session mode overwriting in configuration file</li><li>Fix reviving of dropped liveliness tokens</li><li>Fix formatter reuse and <code>**</code> sometimes being considered as included into <code>*</code></li><li>Fix CLI argument parsing in examples</li><li>Fix broken Debian package</li><li>Fix partial storages replication</li><li>Fix potential panic in z_sub_thr example</li><li>Correctly enable unstable feature in zenoh-plugin-example</li><li>Build plugins with default zenoh features</li><li>Restore sequence number in case of frame drops caused by congestion control</li><li>Align examples and remove reading from stdin</li><li>Fix scouting on unixpipe transport</li><li>Fix digest calculation errors in replication</li></ul><p>And more. Checkout the <a href=https://github.com/eclipse-zenoh/zenoh/releases/tag/0.11.0-rc.1>release changelog</a> to check all the new features and bug fixes with their associated PR’s!</p><hr><h1 id=whats-next>What’s next?</h1><p>The big news is that in June 2024 we are going to release v1.0.0. This version, along with several innovations, will provide users and the community a first stable version for which we’ll guarantee API and protocol backward compatibility. This is an important milestone as more and more projects and products on the market rely on our beloved Blue Dragon Protocol ;-)</p><p>Happy Hacking,</p><p>– The Zenoh Team</p><p>P.S. You can reach us out on Zenoh’s <a href=https://discord.com/invite/vSDSpqnbkm>Discord server</a>!</p><p><img src=../../img/20231003-blog-zenoh-dragonite/zenoh-on-fire.gif alt=Guitar></p><div class=ato-next><b>Next up</b>: <a href=../../blog/2024-04-17-datadog-zenoh-router-integration/>Streamlining Zenoh router Monitoring with Datadog Integration</a></div></main></div></div><footer class="ato-footer text-muted"><div class="container-fluid p-6 p-md-5"><div class=row><div class=col-md-2><h5>Eclipse Incubation</h5><p><img src=../../img/eclipse-incubation.png style=width:100px></p><p>Eclipse zenoh &trade; is an incubating project under the Eclipse Foundation.</p></div><div class=col-md-2><h5>More Information</h5><p><a href=https://www.eclipse.org/legal target=_blank>Legal</a></p><p><a href=https://www.eclipse.org/legal/privacy.php target=_blank>Privacy policy</a></p><p><a href=https://www.eclipse.org/legal/termsofuse.php target=_blank>Terms of use</a></p><p><a href=https://www.eclipse.org/legal/copyright.php target=_blank>Copyright</a></p><p><a href=https://www.eclipse.org/security/ target=_blank>Report a security issue</a></p><p><a href=https://www.eclipse.org/legal/epl-2.0/ target=_blank>Eclipse Public License 2.0</a></p><p><a href=https://www.apache.org/licenses/LICENSE-2.0 target=_blank>Apache License 2.0</a></p><p><a href=https://www.eclipse.org/ target=_blank>Eclipse Foundation</a></p></div><div class=col-md-2><h5>Sponsored by:</h5><p><a href=https://www.eclipse.org target=_blank><img src=../../img/eclipse-foundation.svg style=width:120px></a></p><p><a href=https://zettascale.tech target=_blank><img src=../../img/zettascale-dark.svg style=width:120px></a></p></div><div class=col-md-2><h5>Follow us</h5><p><a href=https://github.com/eclipse-zenoh/zenoh><i class="fa fa-github" aria-hidden=true></i>
GitHub</a></p><p><a href=https://discord.gg/vSDSpqnbkm><i class="fa fa fa-comments-o" aria-hidden=true></i>
Discord</a></p><p><a href=https://www.youtube.com/channel/UCslbiyiqgOAPMjCrPWIfQ5Q><i class="fa fa-youtube-play" aria-hidden=true></i> Youtube</a></p><p><a href=../../docs/overview/what-is-zenoh><i class="fa fa-info-circle" aria-hidden=true></i> About</a></p></div><div class=col-md-2><p><img src=../../img/zenoh-dragon-150x163.png style=width:45px></p><p>Eclipse zenoh &trade; is free, open source and always will be.</p><p>Copyright &copy 2022 Eclipse Foundation</p><p>Built with <a href=https://gohugo.io/ target=_blank>HUGO</a></p></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js integrity=sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js integrity=sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 crossorigin=anonymous></script>
<script src=../../js/bootstrap.min.js></script>
<script src=../../js/highlight.min.js></script>
<script>$(function(){$("pre code").each(function(e,t){if(t.className.indexOf("language-rust")>=0){for(var s="",n=t.textContent.split(`
`),e=0;e<n.length;e++){if(n[e].indexOf("# ")==0||n[e]=="#")continue;s+=n[e].trimRight()+`
`}t.textContent=s.replace(/\n\n\n/g,`

`).trimRight()}hljs.highlightBlock(t)})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-PBD6MS51QL"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PBD6MS51QL",{anonymize_ip:!1})}</script></body></html>