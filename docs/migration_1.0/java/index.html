<!doctype html><html lang=en><head><link rel=apple-touch-icon sizes=180x180 href=../../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../favicon-16x16.png><link rel=manifest href=../../../site.webmanifest><link rel=mask-icon href=../../../safari-pinned-tab.png><meta name=msapplication-TileImage content="/safari-pinned-tab.png"><meta name=msapplication-TileColor content="#7da7d8"><meta name=theme-color content="#7da7d8"><meta charset=utf-8><meta name=description content="Eclipse Zenoh, unify data in motion, data at rest and computations."><meta name=keywords content="pub/sub,query,geo distributed storage,Rust,protocol,DDS,MQTT,Edge,IoT,MEC"><meta name=author content="The Zenoh Team"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=../../../css/bootstrap-reboot.css><link rel=stylesheet href=../../../css/bootstrap.css><link rel=stylesheet href=../../../css/font-awesome.min.css><link rel=stylesheet href=../../../css/ato.css><link rel=stylesheet href=../../../css/syntax.css><link rel=alternate type=application/rss+xml href=../../../blog/index.xml><title>Java Â· Zenoh - pub/sub, geo distributed storage, query</title></head><body><header class="navbar-expand navbar-dark d-flex flex-column flex-md-row align-items-md-center ato-navbar"><div class="d-flex flex-row justify-content-between pl-2 pr-2"><a class=navbar-brand href=../../../><img src=../../../img/zenoh-dragon-bg-150x163.png class=align-middle alt></a>
<button class="btn btn-link d-md-none p-0" type=button data-toggle=collapse data-target=#ato-nav aria-controls=ato-nav aria-expanded=false aria-label="Toggle navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></div><div class="ato-links collapse pl-4 pl-md-0" id=ato-nav><ul class="navbar-nav flex-column flex-md-row"><li class=nav-item><a class=nav-link href=../../../>Home</a></li><li class=nav-item><a class="nav-link active" href=../../../docs/getting-started/first-app/>Documentation</a></li><li class=nav-item><a class=nav-link href=../../../usecases/>Use Cases</a></li><li class=nav-item><a class=nav-link href=../../../community/>Community</a></li><li class=nav-item><a class=nav-link href=../../../adopters/>Adopters</a></li><li class=nav-item><a class=nav-link href=../../../media/>Media</a></li><li class=nav-item><a class=nav-link href=../../../blog/2025-07-28-zenoh-hong/>Blog</a></li></ul></div><ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex"><li class=nav-item><a class="nav-link p-2" href=https://github.com/eclipse-zenoh/zenoh target=_blank rel=noopener aria-label=GitHub><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64.0.0 114.61.0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34.0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49.0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75.0.0 21.49-6.88 70.4 26.24a242.65 242.65.0 01128.18.0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69.0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41.0 34.22-.31 61.83-.31 70.23.0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37.0 256 0z" fill="currentcolor" fill-rule="evenodd"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://twitter.com/zettascaletech target=_blank rel=noopener aria-label=Twitter><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 416.32" focusable="false"><title>Twitter</title><path d="M160.83 416.32c193.2.0 298.92-160.22 298.92-298.92.0-4.51.0-9-.2-13.52A214 214 0 00512 49.38a212.93 212.93.0 01-60.44 16.6 105.7 105.7.0 0046.3-58.19 209 209 0 01-66.79 25.37 105.09 105.09.0 00-181.73 71.91 116.12 116.12.0 002.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48.0 0068 159.6a106.27 106.27.0 01-47.53-13.11v1.43a105.28 105.28.0 0084.21 103.06 105.67 105.67.0 01-47.33 1.84 105.06 105.06.0 0098.14 72.94A210.72 210.72.0 0125 370.84a202.17 202.17.0 01-25-1.43 298.85 298.85.0 00160.83 46.92" fill="currentcolor"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://discord.gg/2GJ958VuHs target=_blank rel=noopener aria-label=Discord><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Discord</title><path fill="currentcolor" d="M13.545 2.907a13.227 13.227.0 00-3.257-1.011.05.05.0 00-.052.025c-.141.25-.297.577-.406.833a12.19 12.19.0 00-3.658.0 8.258 8.258.0 00-.412-.833.051.051.0 00-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041.0 00-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276.0 003.995 2.02.05.05.0 00.056-.019c.308-.42.582-.863.818-1.329a.05.05.0 00-.01-.059.051.051.0 00-.018-.011 8.875 8.875.0 01-1.248-.595.05.05.0 01-.02-.066.051.051.0 01.015-.019c.084-.063.168-.129.248-.195a.05.05.0 01.051-.007c2.619 1.196 5.454 1.196 8.041.0a.052.052.0 01.053.007c.08.066.164.132.248.195a.051.051.0 01-.004.085 8.254 8.254.0 01-1.249.594.05.05.0 00-.03.03.052.052.0 00.003.041c.24.465.515.909.817 1.329a.05.05.0 00.056.019 13.235 13.235.0 004.001-2.02.049.049.0 00.021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034.0 00-.02-.019zm-8.198 7.307c-.789.0-1.438-.724-1.438-1.612.0-.889.637-1.613 1.438-1.613.807.0 1.45.73 1.438 1.613.0.888-.637 1.612-1.438 1.612zm5.316.0c-.788.0-1.438-.724-1.438-1.612.0-.889.637-1.613 1.438-1.613.807.0 1.451.73 1.438 1.613.0.888-.631 1.612-1.438 1.612z"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://www.youtube.com/channel/UCslbiyiqgOAPMjCrPWIfQ5Q target=_blank rel=noopener aria-label=Youtube><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Youtube</title><path fill="currentcolor" d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01.0 011.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007.0 01-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309.0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007.0 01-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82.082 9.716A31.4 31.4.0 010 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007.0 011.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788.0 017.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"/></svg></a></li></ul><script async src="https://www.googletagmanager.com/gtag/js?id=G-PBD6MS51QL"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PBD6MS51QL")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":""},"articleSection":"docs","name":"Java","headline":"Java","datePublished":"0001-01-01 00:00:00 \u002b0000 UTC","dateModified":"0001-01-01 00:00:00 \u002b0000 UTC","url":"\/docs\/migration_1.0\/java\/","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"1011","wordCount":"1399","keywords":[],"description":"Java API migration guide for 1.0.0 The API has been extensively modified with the following goals in mind:\nMatch the API rework done through the Rust Zenoh API. Abstracting users from the underlying native mechanisms. Making the API more idiomatic, more \u0026ldquo;imperative\u0026rdquo;. Remotion of the builder patterns and options parameters Throughout the 0.11.0 API, we were exposing builders, for instance:\nsession.put(keyExpr, value) .congestionControl(CongestionControl.BLOCK) .priority(Priority.REALTIME) .res() This seemed odd, because \u0026ldquo;put\u0026rdquo; is an imperative statement."}</script></header><div class="container-fluid ato-docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 ato-sidebar"><div class="ato-search d-flex justify-content-end"><button class="btn btn-link ato-search-docs-toggle d-md-none p-0 ml-3" type=button data-toggle=collapse data-target=#ato-docs-nav aria-controls=ato-docs-nav aria-expanded=false aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></div><nav class="ato-links collapse" id=ato-docs-nav><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/overview/what-is-zenoh/>Overview</a><ul class="nav ato-sidenav"><li><a href=../../../docs/overview/what-is-zenoh/>What is Zenoh?</a></li><li><a href=../../../docs/overview/zenoh-in-action/>Zenoh in action</a></li></ul></div><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/getting-started/first-app/>Getting started</a><ul class="nav ato-sidenav"><li><a href=../../../docs/getting-started/first-app/>Your first Zenoh app</a></li><li><a href=../../../docs/getting-started/installation/>Installation</a></li><li><a href=../../../docs/getting-started/deployment/>Deployment</a></li><li><a href=../../../docs/getting-started/quick-test/>For a quick test using Docker</a></li><li><a href=../../../docs/getting-started/troubleshooting/>Troubleshooting</a></li></ul></div><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/manual/abstractions/>Reference manual</a><ul class="nav ato-sidenav"><li><a href=../../../docs/manual/abstractions/>Abstractions</a></li><li><a href=../../../docs/manual/configuration/>Configuration</a></li><li><a href=../../../docs/manual/plugins/>Zenoh plugins</a></li><li><a href=../../../docs/manual/plugin-http/>REST plugin</a></li><li><a href=../../../docs/manual/plugin-storage-manager/>Storage manager plugin</a></li><li><a href=../../../docs/manual/tls/>TLS authentication</a></li><li><a href=../../../docs/manual/quic/>QUIC transport</a></li><li><a href=../../../docs/manual/user-password/>User-Password authentication</a></li><li><a href=../../../docs/manual/access-control/>Access Control</a></li></ul></div><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/apis/rust/>API</a><ul class="nav ato-sidenav"><li><a href=../../../docs/apis/rust/>Rust API</a></li><li><a href=../../../docs/apis/c/>C API</a></li><li><a href=../../../docs/apis/pico/>Pico API</a></li><li><a href=../../../docs/apis/cpp/>C++ API</a></li><li><a href=../../../docs/apis/python/>Python API</a></li><li><a href=../../../docs/apis/rest/>REST API</a></li><li><a href=../../../docs/apis/kotlin/>Kotlin API</a></li></ul></div><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/migration_0.5_to_0.6/migrationguide-v0.5.x-v0.6.x/>Migration guides v0.5.x â v0.6.x</a><ul class="nav ato-sidenav"><li><a href=../../../docs/migration_0.5_to_0.6/migrationguide-v0.5.x-v0.6.x/>Migrating from Zenoh v0.5.x to Zenoh v0.6.x</a></li><li><a href=../../../docs/migration_0.5_to_0.6/migrationguide-rust-v0.5.x-v0.6.x/>Migrating from Zenoh v0.5.x Rust API to Zenoh v0.6.x Rust API</a></li><li><a href=../../../docs/migration_0.5_to_0.6/migrationguide-c-v0.5.x-v0.6.x/>Migrating from Zenoh-C v0.5.x zenoh-net API to Zenoh-C v0.6.x zenoh API</a></li><li><a href=../../../docs/migration_0.5_to_0.6/migrationguide-python-v0.5.x-v0.6.x/>Migrating from Zenoh v0.5.x Python API to Zenoh v0.6.x Python API</a></li><li><a href=../../../docs/migration_0.5_to_0.6/migrationguide-pico-v0.5.x-v0.6.x/>Migrating from Zenoh-Pico v0.5.x to Zenoh-Pico v0.6.x</a></li><li><a href=../../../docs/migration_0.5_to_0.6/migrationguide-zenohc-zenohpico/>Migrating from Zenoh-C to Zenoh-Pico (and vice-versa)</a></li></ul></div><div class="ato-toc-item active"><a class=ato-toc-link href=../../../docs/migration_1.0/concepts/>Migration guides v0.11 â v1.0</a><ul class="nav ato-sidenav"><li><a href=../../../docs/migration_1.0/concepts/>Concepts</a></li><li><a href=../../../docs/migration_1.0/rust/>Rust</a></li><li><a href=../../../docs/migration_1.0/c++/>C++</a></li><li><a href=../../../docs/migration_1.0/c_pico/>C / Pico</a></li><li><a href=../../../docs/migration_1.0/python/>Python</a></li><li><a href=../../../docs/migration_1.0/java/ class=active>Java</a></li><li><a href=../../../docs/migration_1.0/kotlin/>Kotlin</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 ato-toc"><div class=section-nav><nav id=TableOfContents><ul><li><a href=#remotion-of-the-builder-patterns-and-options-parameters>Remotion of the builder patterns and options parameters</a></li><li><a href=#session-opening>Session opening</a></li><li><a href=#encoding-rework>Encoding rework</a></li><li><a href=#session-managed-declarations>Session-managed declarations</a></li><li><a href=#key-expression-rework>Key Expression rework</a></li><li><a href=#config-loading>Config loading</a></li><li><a href=#packages-rework>Packages rework</a></li><li><a href=#reliability>Reliability</a></li><li><a href=#logging>Logging</a></li><li><a href=#zbytes-serialization--deserialization--replacement-of-value>ZBytes serialization / deserialization & replacement of Value</a><ul><li><a href=#serialization--deserialization>Serialization & Deserialization</a></li></ul></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 ato-content ato-docs"><h1 class=ato-title>Java</h1><div class=github-edit><a class="fa fa-github" href=https://github.com/atolab/zenoh-web/tree/master/content/docs/migration_1.0/Java.md>Edit on GitHub</a></div><h1 id=java-api-migration-guide-for-100>Java API migration guide for 1.0.0</h1><p>The API has been extensively modified with the following goals in mind:</p><ul><li>Match the API rework done through the Rust Zenoh API.</li><li>Abstracting users from the underlying native mechanisms.</li><li>Making the API more idiomatic, more &ldquo;imperative&rdquo;.</li></ul><h2 id=remotion-of-the-builder-patterns-and-options-parameters>Remotion of the builder patterns and options parameters</h2><p>Throughout the 0.11.0 API, we were exposing builders, for instance:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>session<span style=color:#555>.</span><span style=color:#309>put</span><span style=color:#555>(</span>keyExpr<span style=color:#555>,</span> value<span style=color:#555>)</span>
</span></span><span style=display:flex><span>  <span style=color:#555>.</span><span style=color:#309>congestionControl</span><span style=color:#555>(</span>CongestionControl<span style=color:#555>.</span><span style=color:#309>BLOCK</span><span style=color:#555>)</span>
</span></span><span style=display:flex><span>  <span style=color:#555>.</span><span style=color:#309>priority</span><span style=color:#555>(</span>Priority<span style=color:#555>.</span><span style=color:#309>REALTIME</span><span style=color:#555>)</span>
</span></span><span style=display:flex><span>  <span style=color:#555>.</span><span style=color:#309>res</span><span style=color:#555>()</span>
</span></span></code></pre></div><p>This seemed odd, because &ldquo;put&rdquo; is an imperative statement. This could lead to confusions
since it&rsquo;s not evident that instead of performing the put operation, that function returns
a builder that must be built with a &lsquo;res()&rsquo; (from resolve) function.
After some deliberation, we opted for the following approach:</p><ul><li><p>Making the <code>put</code> operation actually imperative, meaning that calling that function actually performs the put operation. No need for the <code>.res()</code> call anymore.</p></li><li><p>Provide configuration options with an optional parameter, in this case a <code>PutOptions</code> parameter:</p><p>Example:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>var putOptions <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> PutOptions<span style=color:#555>();</span>
</span></span><span style=display:flex><span>putOptions<span style=color:#555>.</span><span style=color:#309>setCongestionControl</span><span style=color:#555>(</span>CongestionControl<span style=color:#555>.</span><span style=color:#309>BLOCK</span><span style=color:#555>);</span>
</span></span><span style=display:flex><span>putOptions<span style=color:#555>.</span><span style=color:#309>setPriority</span><span style=color:#555>(</span>Priority<span style=color:#555>.</span><span style=color:#309>REALTIME</span><span style=color:#555>);</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>//...
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>session<span style=color:#555>.</span><span style=color:#309>put</span><span style=color:#555>(</span>keyExpr<span style=color:#555>,</span> payload<span style=color:#555>,</span> putOptions<span style=color:#555>);</span> <span style=color:#09f;font-style:italic>// triggers the put
</span></span></span></code></pre></div><p>If not provided, the default configuration is used:</p><pre tabindex=0><code>session.put(keyExpr, payload);
</code></pre></li></ul><h2 id=session-opening>Session opening</h2><p><code>Session.open(config: Config)</code> has now been replaced with <code>Zenoh.open(config: Config)</code>.</p><h2 id=encoding-rework>Encoding rework</h2><p>The <code>Encoding</code> class has been modified. In 0.11.0. it had the signature</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#069;font-weight:700>class</span> <span style=color:#c0f>Encoding</span><span style=color:#555>(</span>val knownEncoding<span style=color:#555>:</span> KnownEncoding<span style=color:#555>,</span> val suffix<span style=color:#555>:</span> String <span style=color:#555>=</span> <span style=color:#c30>&#34;&#34;</span><span style=color:#555>)</span>
</span></span></code></pre></div><p>where <code>KnownEncoding</code> was an enum.</p><p>In 0.11.0. an encoding instance would be created as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>var encoding <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> Encoding<span style=color:#555>(</span>KnownEncoding<span style=color:#555>.</span><span style=color:#309>TEXT_JSON</span><span style=color:#555>)</span>
</span></span></code></pre></div><p>In 1.0.0. we have implemented the following changes:</p><ul><li><code>KnownEncoding</code> enum is removed, instead we provide static <code>Encoding</code> instances containing an ID and a description.</li><li>Custom encodings can be created</li><li>The list of pre-defined encodings has been expanded.</li></ul><p>In 1.0.0. the previous example would instead now become:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#069;font-weight:700>var</span> encoding = Encoding.TEXT_JSON
</span></span></code></pre></div><h2 id=session-managed-declarations>Session-managed declarations</h2><p>Up until 0.11.0, it was up to the user to keep track of their variable declarations to keep them alive, because once the variable declarations were garbage collected, the declarations were closed. This was because each Kotlin variable declaration is associated with a native Rust instance, and in order to avoid leaking the memory of that Rust instance, it was necessary to free it upon dropping the declaration instance. However, this behavior could be counterintuitive, as users were expecting the declaration to keep running despite losing track of the reference to it.</p><p>In this release we introduce a change in which any session declaration is internally associated to the session from which it was declared. Users may want to keep a reference to the declaration in case they want to undeclare it earlier before the session is closed, otherwise, the declaration is kept alive.</p><p>For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>var keyExprA <span style=color:#555>=</span> KeyExp<span style=color:#555>::</span>tryFrom<span style=color:#555>(</span><span style=color:#c30>&#34;A/B/C&#34;</span><span style=color:#555>);</span>
</span></span><span style=display:flex><span>var subscriber <span style=color:#555>=</span> session<span style=color:#555>.</span><span style=color:#309>declareSubscriber</span><span style=color:#555>(</span>keyExprA<span style=color:#555>,</span> <span style=color:#555>{</span> sample <span style=color:#555>-&gt;</span> System<span style=color:#555>.</span><span style=color:#309>out</span><span style=color:#555>.</span><span style=color:#309>println</span><span style=color:#555>(</span><span style=color:#c30>&#34;Receiving sample on &#39;A/B/C&#39;: &#34;</span> <span style=color:#555>+</span> sample<span style=color:#555>.</span><span style=color:#309>getPayload</span><span style=color:#555>()</span> <span style=color:#555>+</span> <span style=color:#c30>&#34;)&#34;</span><span style=color:#555>)</span> <span style=color:#555>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>var keyExprB <span style=color:#555>=</span> KeyExpr<span style=color:#555>::</span>tryFrom<span style=color:#555>(</span><span style=color:#c30>&#34;A/C/D&#34;</span><span style=color:#555>);</span>
</span></span><span style=display:flex><span>session<span style=color:#555>.</span><span style=color:#309>declareSubscriber</span><span style=color:#555>(</span>keyExprB<span style=color:#555>,</span> <span style=color:#555>{</span> sample <span style=color:#555>-&gt;</span> System<span style=color:#555>.</span><span style=color:#309>out</span><span style=color:#555>.</span><span style=color:#309>println</span><span style=color:#555>(</span><span style=color:#c30>&#34;Receiving sample on &#39;A/C/D&#39;: &#34;</span> <span style=color:#555>+</span> sample<span style=color:#555>.</span><span style=color:#309>getPayload</span><span style=color:#555>()</span> <span style=color:#555>+</span> <span style=color:#c30>&#34;)&#34;</span><span style=color:#555>)</span> <span style=color:#555>});</span> <span style=color:#09f;font-style:italic>// No variable is associated to the declared session, on 0.11.0 it would have been instantly dropped
</span></span></span></code></pre></div><p>Therfore, when receiving a &lsquo;hello&rsquo; message on <code>A/**</code> we would still see:</p><pre tabindex=0><code>&gt;&gt; Receiving sample on &#39;A/B/C&#39;: hello
&gt;&gt; Receiving sample on &#39;A/C/D&#39;: hello
</code></pre><p>since both declarations are still alive.</p><p>Now the question is, for how long? What happens first, either when:</p><ul><li>you call <code>undeclare()</code> or <code>close()</code> to the declaration</li><li>the session is closed, then all the associated declarations are automatically undeclared.</li></ul><h2 id=key-expression-rework>Key Expression rework</h2><p>KeyExpr instances are not bound to a native key expression anymore, unless they are declared from a session. It is safe to drop the reference to the key expression instance, but the memory management associated to a key expression will differ:</p><ul><li>If the KeyExpr was not declared from a session, then the garbage collector simply claims back the memory.</li><li>If it was declared from a session, then the session keeps track of it and frees the native memory upon closing the session.</li></ul><p>Declaring a KeyExpr on a session results in better performance, since the session is informed that we intend to use a key expression repeatedly.
We also associate a native key expression to a Kotlin key expression instance, avoiding copies.</p><h2 id=config-loading>Config loading</h2><p>When opening a session, it&rsquo;s now mandatory to provide a configuration to the session, even for a default config:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>var config <span style=color:#555>=</span> Config<span style=color:#555>.</span><span style=color:#309>loadDefault</span><span style=color:#555>();</span>
</span></span><span style=display:flex><span>var session <span style=color:#555>=</span> Zenoh<span style=color:#555>.</span><span style=color:#309>open</span><span style=color:#555>(</span>config<span style=color:#555>);</span>
</span></span></code></pre></div><p>The <code>Config</code> class has been modified</p><ul><li><code>Config.loadDefault(): Config</code>: returns the default config</li><li><code>Config.fromFile(file: File): Config</code>: allows to load a config file.</li><li><code>Config.fromPath(path: Path): Config</code>: allows to load a config file from a path.</li><li><code>Config.fromJson(json: String): Config</code>: loads the config from a string literal with json format</li><li><code>Config.fromJson5(json5: String): Config</code>: loads the config from a string literal with json5 format</li><li><code>Config.fromYaml(yaml: String): Config</code>: loads the config from a string literal with yaml format</li><li><code>Config.fromJsonElement(jsonElement: JsonElement): Config</code>: loads the config from a kotlin JsonElement.</li></ul><p>In case of failure loading the config, an exception is thrown.</p><h2 id=packages-rework>Packages rework</h2><p>The package structure of the API is now aligned with Zenoh Rust package structure.</p><p>Changes:</p><ul><li>Removing the &ldquo;prelude&rdquo; package</li><li>QoS package now contains:<ul><li><code>CongestionCOntrol</code></li><li><code>Priority</code></li><li><code>Reliability</code></li><li><code>QoS</code></li></ul></li><li>Bytes package is created with:<ul><li><code>ZBytes</code>, <code>IntoZBytes</code>, <code>Encoding</code></li></ul></li><li>Config package:<ul><li><code>Config</code>, <code>ZenohId</code></li></ul></li><li>Session package:<ul><li><code>SessionInfo</code></li></ul></li><li>Query package:<ul><li>contains <code>Query</code> and <code>Queryable</code></li><li>removing queryable package</li></ul></li></ul><h2 id=reliability>Reliability</h2><p>The <code>Reliability</code> config parameter used on when declaring a subscriber, has been moved. It now must be specified when declaring a <code>Publisher</code> or when performing a <code>Put</code> or a <code>Delete</code> operation.</p><h2 id=logging>Logging</h2><p>There are two main changes regarding logging, the interface and the mechanism.</p><p>Lets look at the following example, where we want to run the ZPub example with debug logging. On 1.0.0 we&rsquo;ll do:</p><pre tabindex=0><code>RUST_LOG=debug gradle ZPub
</code></pre><p>If we wanted to enable debug logging and tracing for some specific package, for instance <code>zenoh::net::routing</code>, we&rsquo;d do:</p><pre tabindex=0><code>RUST_LOG=debug,zenoh::net::routing=trace gradle ZPub
</code></pre><p>However, this is not enabled by default.
In order to enable logging, one of these newly provided functions must be called:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Zenoh<span style=color:#555>.</span><span style=color:#309>tryInitLogFromEnv</span><span style=color:#555>();</span>
</span></span></code></pre></div><p>and</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Zenoh<span style=color:#555>.</span><span style=color:#309>initLogFromEnvOr</span><span style=color:#555>(</span>fallbackFilter<span style=color:#555>:</span> String<span style=color:#555>);</span>
</span></span></code></pre></div><p>This last function allows to programmatically specify the logs configuration if not provided as an environment variable.</p><h2 id=zbytes-serialization--deserialization--replacement-of-value>ZBytes serialization / deserialization & replacement of Value</h2><p>We have created a new abstraction with the name of <code>ZBytes</code>. This class represents the bytes received through the Zenoh network. This new approach has the following implications:</p><ul><li><code>Attachment</code> class is replaced by <code>ZBytes</code>.</li><li><code>Value</code> is replaced by the combination of <code>ZBytes</code> and <code>Encoding</code>.</li><li>Replacing <code>ByteArray</code> to represent payloads</li></ul><p>With <code>ZBytes</code> we have also introduced a Serialization and Deserialization for convenient conversion between <code>ZBytes</code> and Kotlin types.</p><h3 id=serialization--deserialization>Serialization & Deserialization</h3><p>We can serialize primitive types into a <code>ZBytes</code> instance, that is, converting the data into bytes processed by the zenoh network.</p><p>We&rsquo;ll see that for serialization and deserialization, we need to create instances of <code>ZSerializer</code> and <code>ZDeserializer</code> respectively.</p><h4 id=primitive-types>Primitive types</h4><p>(De)Serialization is supported by the following primitive types:</p><ul><li>Numeric: <code>Byte</code>, <code>Short</code>, <code>Integer</code>, <code>Long</code>, <code>Float</code>, and <code>Double</code></li><li><code>String</code></li><li><code>ByteArray</code></li></ul><p>For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Integer input <span style=color:#555>=</span> 123456<span style=color:#555>;</span>
</span></span><span style=display:flex><span>ZSerializer<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;</span> serializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZSerializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>ZBytes zbytes <span style=color:#555>=</span> serializer<span style=color:#555>.</span><span style=color:#309>serialize</span><span style=color:#555>(</span>input<span style=color:#555>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ZDeserializer<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;</span> deserializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZDeserializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>Integer output <span style=color:#555>=</span> deserializer<span style=color:#555>.</span><span style=color:#309>deserialize</span><span style=color:#555>(</span>zbytes<span style=color:#555>);</span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>assert</span> input<span style=color:#555>.</span><span style=color:#309>equals</span><span style=color:#555>(</span>output<span style=color:#555>);</span>
</span></span></code></pre></div><p>This approach works as well for the other aforementioned types.</p><p>For serialization, <code>String</code> and <code>ByteArray</code> the functions <code>ZBytes::from(string: String)</code> and <code>ZBytes::from(bytes: ByteArray)</code> can be used respectively. Analogously, deserialization, <code>ZBytes::toString()</code> and <code>ZBytes::toByteArray()</code> can be used.
For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>var exampleString <span style=color:#555>=</span> <span style=color:#c30>&#34;example string&#34;</span><span style=color:#555>;</span>
</span></span><span style=display:flex><span>var zbytes <span style=color:#555>=</span> ZBytes<span style=color:#555>.</span><span style=color:#309>from</span><span style=color:#555>(</span>exampleString<span style=color:#555>);</span>
</span></span><span style=display:flex><span>var output <span style=color:#555>=</span> zbytes<span style=color:#555>.</span><span style=color:#309>toString</span><span style=color:#555>();</span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>assert</span> exampleString<span style=color:#555>.</span><span style=color:#309>equals</span><span style=color:#555>(</span>output<span style=color:#555>);</span>
</span></span></code></pre></div><h4 id=lists>Lists</h4><p>Lists are supported, but they must be either:</p><ul><li>List of numeric types : (<code>Byte</code>, <code>Short</code>, <code>Int</code>, <code>Long</code>, <code>Float</code>, <code>Double</code>)</li><li>List of <code>String</code></li><li>List of <code>ByteArray</code></li><li>List of another supported type</li></ul><p>The serialize syntax must be used:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;</span> input <span style=color:#555>=</span> List<span style=color:#555>.</span><span style=color:#309>of</span><span style=color:#555>(</span>1<span style=color:#555>,</span> 2<span style=color:#555>,</span> 3<span style=color:#555>,</span> 4<span style=color:#555>,</span> 5<span style=color:#555>);</span>
</span></span><span style=display:flex><span>ZSerializer<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;&gt;</span> serializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZSerializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>ZBytes zbytes <span style=color:#555>=</span> serializer<span style=color:#555>.</span><span style=color:#309>serialize</span><span style=color:#555>(</span>input<span style=color:#555>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ZDeserializer<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;&gt;</span> deserializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZDeserializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;</span> output <span style=color:#555>=</span> deserializer<span style=color:#555>.</span><span style=color:#309>deserialize</span><span style=color:#555>(</span>zbytes<span style=color:#555>);</span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>assert</span> input<span style=color:#555>.</span><span style=color:#309>equals</span><span style=color:#555>(</span>output<span style=color:#555>);</span>
</span></span></code></pre></div><h4 id=maps>Maps</h4><p>Maps are supported as well, with the restriction that their inner types must supported primitives:</p><ul><li>Numeric types</li><li><code>String</code></li><li><code>ByteArray</code></li><li>Map of another supported types</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;</span> input <span style=color:#555>=</span> Map<span style=color:#555>.</span><span style=color:#309>of</span><span style=color:#555>(</span><span style=color:#c30>&#34;one&#34;</span><span style=color:#555>,</span> 1<span style=color:#555>,</span> <span style=color:#c30>&#34;two&#34;</span><span style=color:#555>,</span> 2<span style=color:#555>,</span> <span style=color:#c30>&#34;three&#34;</span><span style=color:#555>,</span> 3<span style=color:#555>);</span>
</span></span><span style=display:flex><span>ZSerializer<span style=color:#555>&lt;</span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;&gt;</span> serializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZSerializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>ZBytes zbytes <span style=color:#555>=</span> serializer<span style=color:#555>.</span><span style=color:#309>serialize</span><span style=color:#555>(</span>input<span style=color:#555>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ZDeserializer<span style=color:#555>&lt;</span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;&gt;</span> deserializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZDeserializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;</span> output <span style=color:#555>=</span> deserializer<span style=color:#555>.</span><span style=color:#309>deserialize</span><span style=color:#555>(</span>zbytes<span style=color:#555>);</span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>assert</span> input<span style=color:#555>.</span><span style=color:#309>equals</span><span style=color:#555>(</span>output<span style=color:#555>);</span>
</span></span></code></pre></div><h4 id=parameterized-types-combinations>Parameterized types combinations</h4><p>Combinations of all the above types is supported. For instance:</p><ul><li>List of lists</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>List<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;&gt;</span> input <span style=color:#555>=</span> List<span style=color:#555>.</span><span style=color:#309>of</span><span style=color:#555>(</span>List<span style=color:#555>.</span><span style=color:#309>of</span><span style=color:#555>(</span>1<span style=color:#555>,</span> 2<span style=color:#555>,</span> 3<span style=color:#555>));</span>
</span></span><span style=display:flex><span>ZSerializer<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;&gt;&gt;</span> serializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZSerializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>ZBytes zbytes <span style=color:#555>=</span> serializer<span style=color:#555>.</span><span style=color:#309>serialize</span><span style=color:#555>(</span>input<span style=color:#555>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ZDeserializer<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;&gt;&gt;</span> deserializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZDeserializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>List<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Integer<span style=color:#555>&gt;&gt;</span> output <span style=color:#555>=</span> deserializer<span style=color:#555>.</span><span style=color:#309>deserialize</span><span style=color:#555>(</span>zbytes18<span style=color:#555>);</span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>assert</span> input<span style=color:#555>.</span><span style=color:#309>equals</span><span style=color:#555>(</span>output<span style=color:#555>);</span>
</span></span></code></pre></div><ul><li>List of maps</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>List<span style=color:#555>&lt;</span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;&gt;</span> input <span style=color:#555>=</span> List<span style=color:#555>.</span><span style=color:#309>of</span><span style=color:#555>(</span>Map<span style=color:#555>.</span><span style=color:#309>of</span><span style=color:#555>(</span><span style=color:#c30>&#34;a&#34;</span><span style=color:#555>,</span> 1<span style=color:#555>,</span> <span style=color:#c30>&#34;b&#34;</span><span style=color:#555>,</span> 2<span style=color:#555>));</span>
</span></span><span style=display:flex><span>ZSerializer<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;&gt;&gt;</span> serializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZSerializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>ZBytes zbytes <span style=color:#555>=</span> serializer<span style=color:#555>.</span><span style=color:#309>serialize</span><span style=color:#555>(</span>input<span style=color:#555>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ZDeserializer<span style=color:#555>&lt;</span>List<span style=color:#555>&lt;</span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;&gt;&gt;</span> deserializer <span style=color:#555>=</span> <span style=color:#069;font-weight:700>new</span> ZDeserializer<span style=color:#555>&lt;&gt;()</span> <span style=color:#555>{};</span>
</span></span><span style=display:flex><span>List<span style=color:#555>&lt;</span>Map<span style=color:#555>&lt;</span>String<span style=color:#555>,</span> Integer<span style=color:#555>&gt;&gt;</span> output <span style=color:#555>=</span> deserializer<span style=color:#555>.</span><span style=color:#309>deserialize</span><span style=color:#555>(</span>zbytes<span style=color:#555>);</span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>assert</span> input<span style=color:#555>.</span><span style=color:#309>equals</span><span style=color:#555>(</span>output<span style=color:#555>);</span>
</span></span></code></pre></div><div class=ato-next><b>Next up</b>: <a href=/docs/migration_1.0/kotlin/>Kotlin</a></div></main></div></div><footer class="ato-footer text-muted"><div class="container-fluid p-6 p-md-5"><div class=row><div class=col-md-2><h5>Eclipse Incubation</h5><p><img src=../../../img/eclipse-incubation.png style=width:100px></p><p>Eclipse zenoh &trade; is an incubating project under the Eclipse Foundation.</p></div><div class=col-md-2><h5>More Information</h5><p><a href=https://www.eclipse.org/legal target=_blank>Legal</a></p><p><a href=https://www.eclipse.org/legal/privacy.php target=_blank>Privacy policy</a></p><p><a href=https://www.eclipse.org/legal/termsofuse.php target=_blank>Terms of use</a></p><p><a href=https://www.eclipse.org/legal/copyright.php target=_blank>Copyright</a></p><p><a href=https://www.eclipse.org/security/ target=_blank>Report a security issue</a></p><p><a href=https://www.eclipse.org/legal/epl-2.0/ target=_blank>Eclipse Public License 2.0</a></p><p><a href=https://www.apache.org/licenses/LICENSE-2.0 target=_blank>Apache License 2.0</a></p><p><a href=https://www.eclipse.org/ target=_blank>Eclipse Foundation</a></p></div><div class=col-md-2><h5>Sponsored by:</h5><p><a href=https://www.eclipse.org target=_blank><img src=../../../img/eclipse-foundation.svg style=width:120px></a></p><p><a href=https://zettascale.tech target=_blank><img src=../../../img/zettascale-dark.svg style=width:120px></a></p></div><div class=col-md-2><h5>Follow us</h5><p><a href=https://github.com/eclipse-zenoh/zenoh><i class="fa fa-github" aria-hidden=true></i>
GitHub</a></p><p><a href=https://discord.gg/vSDSpqnbkm><i class="fa fa fa-comments-o" aria-hidden=true></i>
Discord</a></p><p><a href=https://www.youtube.com/channel/UCslbiyiqgOAPMjCrPWIfQ5Q><i class="fa fa-youtube-play" aria-hidden=true></i> Youtube</a></p><p><a href=../../../docs/overview/what-is-zenoh><i class="fa fa-info-circle" aria-hidden=true></i> About</a></p></div><div class=col-md-2><p><img src=../../../img/zenoh-dragon-150x163.png style=width:45px></p><p>Eclipse zenoh &trade; is free, open source and always will be.</p><p>Copyright &copy 2022 Eclipse Foundation</p><p>Built with <a href=https://gohugo.io/ target=_blank>HUGO</a></p></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js integrity=sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js integrity=sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 crossorigin=anonymous></script>
<script src=../../../js/bootstrap.min.js></script>
<script src=../../../js/highlight.min.js></script>
<script>$(function(){$("pre code").each(function(e,t){if(t.className.indexOf("language-rust")>=0){for(var s="",n=t.textContent.split(`
`),e=0;e<n.length;e++){if(n[e].indexOf("# ")==0||n[e]=="#")continue;s+=n[e].trimRight()+`
`}t.textContent=s.replace(/\n\n\n/g,`

`).trimRight()}hljs.highlightBlock(t)})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-PBD6MS51QL"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PBD6MS51QL",{anonymize_ip:!1})}</script></body></html>