<!doctype html><html lang=en><head><link rel=apple-touch-icon sizes=180x180 href=../../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../favicon-16x16.png><link rel=manifest href=../../../site.webmanifest><link rel=mask-icon href=../../../safari-pinned-tab.png color=#7da7d8><meta name=msapplication-TileColor content="#7da7d8"><meta name=theme-color content="#7da7d8"><meta charset=utf-8><meta name=description content="Eclipse Zenoh, unify data in motion, data at rest and computations."><meta name=keywords content="pub/sub,query,geo distributed storage,Rust,protocol,DDS,MQTT,Edge,IoT,MEC"><meta name=author content="The Zenoh Team"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=../../../css/bootstrap-reboot.css><link rel=stylesheet href=../../../css/bootstrap.css><link rel=stylesheet href=../../../css/font-awesome.min.css><link rel=stylesheet href=../../../css/ato.css><link rel=stylesheet href=../../../css/syntax.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><link rel=alternate type=application/rss+xml href=../../../blog/index.xml><title>Abstractions Â· zenoh - pub/sub, geo distributed storage, query</title></head><body><header class="navbar navbar-expand navbar-dark flex-column flex-md-row ato-navbar"><a class=navbar-brand href=../../../><img src=../../../img/zenoh-dragon-bg.png class=align-middle alt></a><div class="collapse navbar-collapse"><ul class=navbar-nav><li class=nav-item><a class=nav-link href=../../../>Home</a></li><li class=nav-item><a class="nav-link active" href=../../../docs/getting-started/quick-test/>Documentation</a></li><li class=nav-item><a class=nav-link href=../../../community/>Community</a></li><li class=nav-item><a class=nav-link href=../../../blog/2021-03-23-discovery/>Blog</a></li></ul></div><ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex"><li class=nav-item><a class="nav-link p-2" href=https://github.com/eclipse-zenoh/zenoh target=_blank rel=noopener aria-label=GitHub><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64.0.0 114.61.0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34.0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49.0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75.0.0 21.49-6.88 70.4 26.24a242.65 242.65.0 01128.18.0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69.0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41.0 34.22-.31 61.83-.31 70.23.0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37.0 256 0z" fill="currentcolor" fill-rule="evenodd"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://twitter.com/atolab_ target=_blank rel=noopener aria-label=Twitter><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 416.32" focusable="false"><title>Twitter</title><path d="M160.83 416.32c193.2.0 298.92-160.22 298.92-298.92.0-4.51.0-9-.2-13.52A214 214 0 00512 49.38a212.93 212.93.0 01-60.44 16.6 105.7 105.7.0 0046.3-58.19 209 209 0 01-66.79 25.37 105.09 105.09.0 00-181.73 71.91 116.12 116.12.0 002.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48.0 0068 159.6a106.27 106.27.0 01-47.53-13.11v1.43a105.28 105.28.0 0084.21 103.06 105.67 105.67.0 01-47.33 1.84 105.06 105.06.0 0098.14 72.94A210.72 210.72.0 0125 370.84a202.17 202.17.0 01-25-1.43 298.85 298.85.0 00160.83 46.92" fill="currentcolor"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://gitter.im/atolab/zenoh target=_blank rel=noopener aria-label=Gitter><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Gitter</title><path fill="currentcolor" d="M8.501 4.001H10.5V24H8.501V4.001zm6.999.0V24h-2V4.001h2zM3.5.0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"/></svg></a></li></ul><script async src="https://www.googletagmanager.com/gtag/js?id=UA-120904581-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-41082619-2');</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":""},"articleSection":"docs","name":"Abstractions","headline":"Abstractions","datePublished":"0001-01-01 00:00:00 \x2b0000 UTC","dateModified":"0001-01-01 00:00:00 \x2b0000 UTC","url":"\/docs\/manual\/abstractions\/","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"1011","wordCount":"1024","keywords":[],"description":"Zenoh is a distributed service to define, manage and operate on key\/value spaces.\nThe key abstractions at the core of zenoh are the following:\nKey Zenoh uses paths as keys. In all zenoh documentations, \x26ldquo;key\x26rdquo; and \x26ldquo;path\x26rdquo; are synonym.\n Path A set of strings separated by \x27\/\x27 , as in a filesystem path. A Path cannot contain any \x27*\x27 character.\nExamples of paths: \/demo\/example\/test , \/com\/adlink\/building\/fr\/floor\/1\/office\/2 \x26hellip;\nA path can be absolute (i."}</script></header><div class="container-fluid ato-docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 ato-sidebar"><form class="ato-search d-flex align-items-center"><span class="algolia-autocomplete algolia-autocomplete-left" style=position:relative;display:inline-block;direction:ltr><input class="form-control ds-input" id=search-input placeholder=Search... autocomplete=off spellcheck=false role=combobox aria-autocomplete=list aria-expanded=false aria-owns=algolia-autocomplete-listbox-0 style=position:relative;vertical-align:top dir=auto type=search><pre aria-hidden=true style="position:absolute;visibility:hidden;white-space:pre;font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol;font-size:16px;font-style:normal;font-variant:normal;font-weight:400;word-spacing:0;letter-spacing:normal;text-indent:0;text-rendering:optimizelegibility;text-transform:none">w</pre><span class="ds-dropdown-menu ds-with-1" style=position:absolute;top:100%;left:0;z-index:100;right:auto;display:none role=listbox id=algolia-autocomplete-listbox-0><div class=ds-dataset-1></div></span></span><button class="btn btn-link ato-search-docs-toggle d-md-none p-0 ml-3" type=button data-toggle=collapse data-target=#ato-docs-nav aria-controls=ato-docs-nav aria-expanded=false aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></form><nav class="ato-links collapse" id=ato-docs-nav><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/overview/>What is zenoh?</a></div><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/getting-started/quick-test/>Getting started</a><ul class="nav ato-sidenav"><li><a href=../../../docs/getting-started/quick-test/>For a Quick Test using Docker</a></li><li><a href=../../../docs/getting-started/installation/>Installation</a></li><li><a href=../../../docs/getting-started/key-concepts/>Key concepts</a></li><li><a href=../../../docs/getting-started/first-app/>Your First zenoh app</a></li></ul></div><div class="ato-toc-item active"><a class=ato-toc-link href=../../../docs/manual/abstractions/>Reference manual</a><ul class="nav ato-sidenav"><li><a href=../../../docs/manual/abstractions/ class=active>Abstractions</a></li><li><a href=../../../docs/manual/plugins/>Zenoh plugins</a></li><li><a href=../../../docs/manual/plugin-http/>REST plugin</a></li><li><a href=../../../docs/manual/plugin-storages/>Storages plugin</a></li><li><a href=../../../docs/manual/quic/>QUIC transport</a></li><li><a href=../../../docs/manual/tls/>TLS authentication</a></li><li><a href=../../../docs/manual/user-password/>User-Password authentication</a></li><li><a href=../../../docs/manual/backends/>Zenoh backends and storages</a></li><li><a href=../../../docs/manual/backends-list/>List of backends</a></li></ul></div><div class=ato-toc-item><a class=ato-toc-link href=../../../docs/apis/apis/>API documentations</a></div></nav></div><div class="d-none d-xl-block col-xl-2 ato-toc"><div class=section-nav><nav id=TableOfContents><ul><li><a href=#key>Key</a></li><li><a href=#path>Path</a></li><li><a href=#path-expression>Path Expression</a></li><li><a href=#selector>Selector</a></li><li><a href=#value>Value</a></li><li><a href=#encoding>Encoding</a></li><li><a href=#timestamp>Timestamp</a></li><li><a href=#backend>Backend</a></li><li><a href=#storage>Storage</a></li><li><a href=#subscriber>Subscriber</a></li><li><a href=#eval>Eval</a></li><li><a href=#workspace>Workspace</a></li><li><a href=#admin-space>Admin space</a></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 ato-content ato-docs"><h1 class=ato-title>Abstractions</h1><div class=github-edit><a class="fa fa-github" href=https://github.com/atolab/zenoh-web/tree/master/content/docs/manual/abstractions.md>Edit on GitHub</a></div><p>Zenoh is a <strong>distributed service</strong> to define, manage and operate on <strong>key/value</strong> spaces.</p><p>The key abstractions at the core of zenoh are the following:</p><h2 id=key>Key</h2><p>Zenoh uses <strong><a href=#path>paths</a></strong> as keys. In all zenoh documentations, &ldquo;key&rdquo; and &ldquo;path&rdquo; are synonym.</p><hr><h2 id=path>Path</h2><p>A set of strings separated by <code>'/'</code> , as in a filesystem path. A Path cannot contain any <code>'*'</code> character.<br>Examples of paths: <code>/demo/example/test</code> , <code>/com/adlink/building/fr/floor/1/office/2</code> &mldr;</p><p>A path can be absolute (i.e. starting with a <code>'/'</code>) or relative to a <a href=#workspace>workspace</a>.</p><hr><h2 id=path-expression>Path Expression</h2><p>Similar to a <a href=#path>path</a>, but with character <code>'*'</code> allowed to express a set of paths.</p><ul><li>A single <code>'*'</code> matches any set of characters in a path, except <code>'/'</code>.</li><li>While <code>"**"</code> matches any set of characters in a path, including <code>'/'</code>.</li></ul><p>A path expression can be absolute (i.e. starting with a <code>'/'</code>) or relative to a <a href=#workspace>workspace</a>.</p><hr><h2 id=selector>Selector</h2><p>A string which is the conjunction of an <a href=#path-expression>path expression</a> identifying a set of paths and some optional parts allowing
to refine the set of <strong><a href=#path>paths</a></strong> and associated <strong><a href=#value>values</a></strong>.<br>Structure of a selector:</p><pre><code class=language-none data-lang=none>/s1/s2/.../sn?x&gt;1&amp;y&lt;2&amp;...&amp;z=4(p1=v1;p2=v2;...;pn=vn)#a;b;x;y;...;z
|           | |             | |                   |  |           |
|-- expr ---| |--- filter --| |---- properties ---|  |--fragment-|
</code></pre><p>where:</p><ul><li><p><strong>expr</strong>: is a <a href=#path-expression>path expression</a>.</p></li><li><p><strong>filter</strong>: a list of predicates separated by <code>'&'</code> allowing to perform filtering on the <a href=#value>values</a>
associated with the matching keys.<br>Each predicate has the form &ldquo;<code>field</code>-<code>operator</code>-<code>value</code>&rdquo; where:</p><ul><li><em>field</em> is the name of a field in the value (is applicable and is existing. otherwise the predicate is false)</li><li><em>operator</em> is one of a comparison operators: <code>&lt;</code> , <code>></code> , <code>&lt;=</code> , <code>>=</code> , <code>=</code> , <code>!=</code></li><li><em>value</em> is the the value to compare the field&rsquo;s value with</li></ul></li><li><p><strong>fragment</strong>: a list of fields names allowing to return a sub-part of each value.<br>This feature only applies to structured values using a &ldquo;self-describing&rdquo; encoding, such as JSON or XML.
It allows to select only some fields within the structure. A new structure with only the selected fields
will be used in place of the original value.</p></li></ul><p><em><strong>NOTE</strong></em>: <em>the filters and fragments are not yet supported in current zenoh version.</em></p><hr><h2 id=value>Value</h2><p>A user provided data item along with its <a href=#encoding>encoding</a>.</p><hr><h2 id=encoding>Encoding</h2><p>A description of the <a href=#value>value</a> format, allowing zenoh to know how to encode/decode the value to/from a bytes buffer.</p><p>By default zenoh is able to transport and store any format of data as long as it&rsquo;s serializable as a bytes buffer.
But for advanced features such as content filtering (using <a href=#selector>selector</a>) or to automatically deserialize the data
into a concrete type in the client APIs, zenoh require a description of the data encoding.</p><p>The current version of zenoh supports the following encodings for filtering and automatic deserialization:</p><ul><li><strong>Raw</strong>: the value is a bytes buffer</li><li><strong>StringUTF8</strong>: the value is an UTF-8 string</li><li><strong>Json</strong>: the value is a JSON string</li><li><strong>Properties</strong>: the value is a string representing a list of keys/values separated by <code>';'</code> (e.g. <code>"k1=v1;k2=v2..."</code>)</li><li><strong>Integer</strong>: the value is an integer</li><li><strong>Float</strong>: the value is a float</li><li><strong>Custom</strong>: the value is a bytes buffer with a free string allowing for instance to describe its encoding</li></ul><hr><h2 id=timestamp>Timestamp</h2><p>When a <a href=#value>value</a> is put into zenoh, the first zenoh router receiving this value automatically
associates it with a timestamp.<br>This timestamp is made of 2 items:</p><ul><li><p>A <strong>time</strong> generated by a <a href=https://cse.buffalo.edu/tech-reports/2014-04.pdf>Hybrid Logical Clock (HLC)</a>.
This time is a 64-bit time with a similar structure than a NTP timestamp (but with a different epoch):</p><ul><li>the higher 32-bit part is the number of seconds since midnight, January 1, 1970 UTC
(implying a roll over in 2106).</li><li>the lower 32-bit part is a fraction of second, but with the 8 last bits replaced by a counter.</li></ul><p>This time gives a theoritical resolution of 2^-32 seconds (60 nanoseconds), and
guarantees that the same time cannot be generated twice and that the <em>happened-before</em> relationship is preserved.</p></li><li><p>The <strong>UUID</strong> of the zenoh router that generated the time.</p></li></ul><p>Such a timestamp allows zenoh to guarantee that each value introduced into the system has a unique timestamp, and that those timestamps (and therefore the values) can be ordered in the same way at any point of the system, without the need of any consensus algorithm.</p><hr><h2 id=backend>Backend</h2><p>A storage technology, such as DBMS, Main Memory, time-series database, etc.<br>It can be dynamically loaded via the <a href=#admin-space>admin space</a> and acts as a factory of <a href=#storage>Storages</a>.</p><p>See <a href=../backends>Zenoh backends</a> chapter for details and for the list of supported backends in the current version.</p><hr><h2 id=storage>Storage</h2><p>An entity storing keys/values on a specific <a href=#backend>backend</a>.</p><p>A storage is associated at its creation to a <a href=#path-expression>Path Expression</a>.
Storages can be created via the <a href=#admin-space>admin space</a> and take responsibility for storing all keys/values whose path matches the storage selector.</p><hr><h2 id=subscriber>Subscriber</h2><p>An entity registering interest for being notified whenever a key/value with a path matchings the subscriber
<a href=#selector>selector</a> is put, updated or removed on zenoh.</p><hr><h2 id=eval>Eval</h2><p>A computation registered at a specific <a href=#path>path</a>.</p><p>This computation can be triggered by a <code>get</code> operation on a <a href=#selector>selector</a> matching this path.
The computation function will receive the selector&rsquo;s properties as parameter.</p><hr><h2 id=workspace>Workspace</h2><p>The abstraction that give you access to zenoh primitives.</p><p>A workspace is associated to a <a href=#path>path</a> at creation. This path will be used as a prefix for any relative
<a href=#path>path</a> or <a href=#selector>selector</a> used with this workspace.</p><hr><h2 id=admin-space>Admin space</h2><p>The administration space of zenoh allowing to administrate a zenoh router and its plugins.
It is accessible via regular get/put on zenoh, under the <code>/@/router/&lt;router-id></code> path prefix, where
<strong><code>&lt;router-id></code></strong> is is the UUID of a zenoh router.
For instance, the following paths can be used:</p><ul><li><code>/@/router/&lt;router-id></code> (read-only):<br>Returns a JSON with the status informations about the router.</li><li><code>/@/router/&lt;router-id>/plugin/storages/backend/&lt;backend-id></code> (read/write):<br>On get, returns the properties of the backend with the specified ID.<br>On put, make the router to dynamically load a backend library with the properties specified as the value.</li><li><code>/@/router/&lt;router-id>/plugin/storages/backend/&lt;backend-id>/storage/&lt;storage-id></code> (read/write):<br>On get, returns the properties of the storage with the specified ID.<br>On put, adds a storage in the parent backend with the properties specified as the value.<br>On remove, removes the storage.</li></ul><p>When using the REST API, you can replace the <code>&lt;router-id></code> with the <strong><code>local</code></strong> keyword,
meaning the operation addresses the zenoh router the HTTP client is connected to.</p><div class=ato-next><b>Next up</b>: <a href=/docs/manual/plugins/>Zenoh plugins</a></div></main></div></div><footer class="ato-footer text-muted"><div class="container-fluid p-6 p-md-5"><div class=row><div class=col-md-2><h5>Eclipse Incubation</h5><p><img src=../../../img/eclipse-incubation.png style=width:100px></p><p>Eclipse zenoh &trade; is an incubating project under the Eclipse Foundation.</p></div><div class=col-md-2><h5>More Information</h5><p><a href=https://www.eclipse.org/legal target=_blank>Legal</a></p><p><a href=https://www.eclipse.org/legal/privacy.php target=_blank>Privacy policy</a></p><p><a href=https://www.eclipse.org/legal/termsofuse.php target=_blank>Terms of use</a></p><p><a href=https://www.eclipse.org/legal/copyright.php target=_blank>Copyright</a></p><p><a href=https://www.eclipse.org/security/ target=_blank>Report a security issue</a></p><p><a href=https://www.eclipse.org/legal/epl-2.0/ target=_blank>Eclipse Public License 2.0</a></p><p><a href=https://www.apache.org/licenses/LICENSE-2.0 target=_blank>Apache License 2.0</a></p><p><a href=https://www.eclipse.org/ target=_blank>Eclipse Foundation</a></p></div><div class=col-md-2><h5>Sponsored by:</h5><p><a href=https://www.eclipse.org target=_blank><img src=../../../img/eclipse-foundation.svg style=width:100px></a></p><p><a href=https://www.adlinktech.com target=_blank><img src=https://cdn.adlinktech.com/webupd/en/Upload/logo.png style=width:100px></a></p><p><a href=https://www.futurewei.com target=_blank><img src=../../../img/futurewei-logo.png style=width:100px></a></p></div><div class=col-md-2><h5>Follow us</h5><p><a href=https://github.com/eclipse-zenoh/zenoh><i class="fa fa-github" aria-hidden=true></i>GitHub</a></p><p><a href=https://gitter.im/atolab/zenoh><i class="fa fa fa-comments-o" aria-hidden=true></i>Gitter</a></p><p><a href=../../../docs/overview/><i class="fa fa-info-circle" aria-hidden=true></i>About</a></p></div><div class=col-md-2><p><img src=../../../img/zenoh-dragon.png style=width:45px></p><p>Eclipse zenoh &trade; is free, open source and always will be.</p><p>Copyright &copy 2021 Eclipse Foundation</p><p>Build with <a href=https://gohugo.io/ target=_blank>HUGO</a></p><p>Theme inspired from: <a href=https://tokio.rs/ target=_blank>Tokio website theme</a></p></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js integrity=sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js integrity=sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 crossorigin=anonymous></script><script src=../../../js/bootstrap.min.js></script><script src=../../../js/highlight.js></script><script>$(function(){$("pre code").each(function(i,block){if(block.className.indexOf('language-rust')>=0){var new_content='';var lines=block.textContent.split('\n');for(var i=0;i<lines.length;i++){if(lines[i].indexOf('# ')==0||lines[i]=='#'){continue}
new_content+=lines[i].trimRight()+'\n';}
block.textContent=new_content.replace(/\n\n\n/g,"\n\n").trimRight();}
hljs.highlightBlock(block);});});</script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script><script type=text/javascript>docsearch({apiKey:'d7b5b785798fe748621bcaa8301a2201',indexName:'zenoh',inputSelector:'#search-input',debug:false});</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-41082619-2','auto');ga('send','pageview');}</script></body></html>